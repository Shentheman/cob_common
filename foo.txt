[1mdiff --git a/.github/PULL_REQUEST_TEMPLATE.md b/.github/PULL_REQUEST_TEMPLATE.md[m
[1mnew file mode 100644[m
[1mindex 0000000..fd76490[m
[1m--- /dev/null[m
[1m+++ b/.github/PULL_REQUEST_TEMPLATE.md[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32m - fixes #[m
[32m+[m[32m - new source code files added (proper [APACHE license header](https://github.com/ipa320/setup/tree/master/templates) **must** be used)[m
[1mdiff --git a/.gitignore b/.gitignore[m
[1mindex bf640fe..b08edbe 100644[m
[1m--- a/.gitignore[m
[1m+++ b/.gitignore[m
[36m@@ -1,25 +1,42 @@[m
[32m+[m[32m# default .gitignore file for ipa320 repositories[m
[32m+[m[32m# master file can be found in https://github.com/ipa320/care-o-bot/blob/indigo_dev/.gitignore[m
[32m+[m
[32m+[m[32mbuild/[m
[32m+[m[32mbin/[m
[32m+[m[32mlib/[m
[32m+[m
[32m+[m[32m# generated docs[m
[32m+[m[32m*.dox[m
[32m+[m[32m*.wikidoc[m
[32m+[m
[32m+[m[32m# eclipse[m
[32m+[m[32m.project[m
[32m+[m[32m.cproject[m
[32m+[m
[32m+[m[32m# qcreator[m
[32m+[m[32mqtcreator-*[m
[32m+[m[32m*.user[m
[32m+[m
[32m+[m[32m# Emacs[m
[32m+[m[32m.#*[m
[32m+[m
[32m+[m[32m# VI/VIM[m
[32m+[m[32m*.swp[m
[32m+[m
[32m+[m[32m# python files[m
[32m+[m[32m*.pcd[m
[32m+[m[32m*.pyc[m
[32m+[m[32m*.pco[m
[32m+[m
 # temporary files[m
 *~[m
 [m
[31m-# autogenerated folders[m
[31m-bin[m
[31m-build[m
[31m-lib[m
[31m-__pycache__[m
[31m-msg_gen[m
[31m-srv_gen[m
[31m-[m
[31m-# autogenerated msgs[m
[31m-*Action.msg[m
[31m-*Action.py[m
[31m-*ActionFeedback.msg[m
[31m-*ActionFeedback.py[m
[31m-*ActionGoal.msg[m
[31m-*ActionGoal.py[m
[31m-*Feedback.msg[m
[31m-*Feedback.py[m
[31m-*Goal.msg[m
[31m-*Goal.py[m
[31m-*Result.msg[m
[31m-*Result.py[m
[31m-*.pyc[m
[32m+[m[32m# merge conflict files[m
[32m+[m[32m*.orig[m
[32m+[m[32m*BACKUP*[m
[32m+[m[32m*BASE*[m
[32m+[m[32m*LOCAL*[m
[32m+[m[32m*REMOTE*[m
[32m+[m
[32m+[m[32m# Catkin custom files[m
[32m+[m[32mCATKIN_IGNORE[m
[1mdiff --git a/.travis.yml b/.travis.yml[m
[1mindex 1fe2945..1b54b90 100644[m
[1m--- a/.travis.yml[m
[1m+++ b/.travis.yml[m
[36m@@ -1,23 +1,22 @@[m
 sudo: required[m
 dist: trusty[m
[31m-# Force travis to use its minimal image with default Python settings[m
 language: generic[m
[31m-compiler:[m
[31m-  - gcc[m
[31m-[m
[32m+[m[32mnotifications:[m
[32m+[m[32m  email:[m
[32m+[m[32m    on_success: change[m
[32m+[m[32m    on_failure: always[m
 env:[m
   global:[m
[31m-    - CATKIN_WS=~/catkin_ws[m
[31m-    - CATKIN_WS_SRC=${CATKIN_WS}/src[m
[31m-    - CATKIN_WS_UNDERLAY=~/catkin_ws_underlay[m
[31m-    - CATKIN_WS_UNDERLAY_SRC=${CATKIN_WS_UNDERLAY}/src[m
[31m-    - CI_ROS_DISTRO="indigo"[m
[31m-    - DEFAULT_ROSINSTALL="https://raw.githubusercontent.com/ipa320/care-o-bot/${CI_ROS_DISTRO}_dev/.travis.rosinstall"[m
[31m-[m
[32m+[m[32m    - UPSTREAM_WORKSPACE=file[m
[32m+[m[32m  matrix:[m
[32m+[m[32m    - ROS_DISTRO="indigo" ROS_REPOSITORY_PATH=http://packages.ros.org/ros/ubuntu[m
[32m+[m[32m    - ROS_DISTRO="jade" ROS_REPOSITORY_PATH=http://packages.ros.org/ros/ubuntu[m
[32m+[m[32m    - ROS_DISTRO="kinetic" ROS_REPOSITORY_PATH=http://packages.ros.org/ros/ubuntu[m
[32m+[m[32mmatrix:[m
[32m+[m[32m  allow_failures:[m
[32m+[m[32m    - env: ROS_DISTRO="jade" ROS_REPOSITORY_PATH=http://packages.ros.org/ros/ubuntu[m
 install:[m
[31m-  - wget https://raw.githubusercontent.com/ipa320/care-o-bot/${CI_ROS_DISTRO}_dev/.travis.install.sh[m
[31m-  - bash .travis.install.sh[m
[31m-[m
[32m+[m[32m  - git clone https://github.com/ros-industrial/industrial_ci.git .ci_config[m
 script:[m
[31m-  - wget https://raw.githubusercontent.com/ipa320/care-o-bot/${CI_ROS_DISTRO}_dev/.travis.script.sh[m
[31m-  - bash .travis.script.sh[m
[32m+[m[32m  - .ci_config/travis.sh[m
[32m+[m[32m#  - ./travis.sh  # Enable this when you have a package-local script[m[41m [m
[1mdiff --git a/README.md b/README.md[m
[1mindex 5479045..90f8cc0 100644[m
[1m--- a/README.md[m
[1m+++ b/README.md[m
[36m@@ -1,8 +1,17 @@[m
[31m-cob_common[m
[31m-==========[m
[31m-[![Build Status](https://travis-ci.org/ipa320/cob_common.svg?branch=indigo_dev)](https://travis-ci.org/ipa320/cob_common)[m
[31m-[m
[31m-This is a repository for Care-O-bot common packages.[m
[31m-[m
[31m-[m
[31m-Installation instructions and tutorials can be found at http://www.care-o-bot.org.[m
[32m+[m[32m# cob_common[m
[32m+[m[32m## Version[m
[32m+[m[32m* This is based on the release version ros-indigo-cob-common:amd64/trusty **0.6.7**-0trusty-20170809-115040-0800, and incorporated with the changes customized for Robbie & Yuri (cob raw3-6) in Interactive Robotics Group.[m
[32m+[m[32m  * To mix a release version with customizations:[m
[32m+[m[32m    * `git clone https://github.com/ipa320/cob_common.git`[m
[32m+[m[32m    * `git checkout 0.6.7`[m
[32m+[m[32m    * `git remote -v`[m
[32m+[m[32m    * `git remote rename origin upstream`[m
[32m+[m[32m    * `git remote add origin <your forked git repo url>`[m
[32m+[m[32m      * `git remote add origin https://github.com/Shentheman/cob_common.git`[m
[32m+[m[32m    * `git fetch origin`[m
[32m+[m[32m    * `git checkout -b <your new branch name>`[m
[32m+[m[32m      * `git checkout -b irg-raw3-6`[m
[32m+[m[32m    * `git status`[m
[32m+[m[32m    * `git add -A`[m
[32m+[m[32m    * `git commit -am <commit messages>`[m
[32m+[m[32m    * `git push origin master`[m
[1mdiff --git a/README_upstream.md b/README_upstream.md[m
[1mnew file mode 100644[m
[1mindex 0000000..cd0654c[m
[1m--- /dev/null[m
[1m+++ b/README_upstream.md[m
[36m@@ -0,0 +1,25 @@[m
[32m+[m[32mcob_common[m
[32m+[m[32m===========[m
[32m+[m
[32m+[m[32m## ROS Distro Support[m
[32m+[m
[32m+[m[32m|         | Indigo | Jade | Kinetic |[m
[32m+[m[32m|:-------:|:------:|:----:|:-------:|[m
[32m+[m[32m| Branch  | [`indigo_dev`](https://github.com/ipa320/cob_common/tree/indigo_dev) | [`indigo_dev`](https://github.com/ipa320/cob_common/tree/indigo_dev) | [`indigo_dev`](https://github.com/ipa320/cob_common/tree/indigo_dev) |[m
[32m+[m[32m| Status  |  supported | not supported |  supported |[m
[32m+[m[32m| Version | [version](http://repositories.ros.org/status_page/ros_indigo_default.html?q=cob_common) | [version](http://repositories.ros.org/status_page/ros_jade_default.html?q=cob_common) | [version](http://repositories.ros.org/status_page/ros_kinetic_default.html?q=cob_common) |[m
[32m+[m
[32m+[m[32m## Travis - Continuous Integration[m
[32m+[m
[32m+[m[32mStatus: [![Build Status](https://travis-ci.org/ipa320/cob_common.svg?branch=indigo_dev)](https://travis-ci.org/ipa320/cob_common)[m
[32m+[m
[32m+[m[32m## ROS Buildfarm[m
[32m+[m
[32m+[m[32m|         | Indigo Source | Indigo Debian | Jade Source | Jade Debian |  Kinetic Source  |  Kinetic Debian |[m
[32m+[m[32m|:-------:|:-------------------:|:-------------------:|:-------------------:|:-------------------:|:-------------------:|:-------------------:|[m
[32m+[m[32m| cob_common | [![not released](http://build.ros.org/buildStatus/icon?job=Isrc_uT__cob_common__ubuntu_trusty__source)](http://build.ros.org/view/Isrc_uT/job/Isrc_uT__cob_common__ubuntu_trusty__source/) | [![not released](http://build.ros.org/buildStatus/icon?job=Ibin_uT64__cob_common__ubuntu_trusty_amd64__binary)](http://build.ros.org/view/Ibin_uT64/job/Ibin_uT64__cob_common__ubuntu_trusty_amd64__binary/) | [![not released](http://build.ros.org/buildStatus/icon?job=Jsrc_uT__cob_common__ubuntu_trusty__source)](http://build.ros.org/view/Jsrc_uT/job/Jsrc_uT__cob_common__ubuntu_trusty__source/) | [![not released](http://build.ros.org/buildStatus/icon?job=Jbin_uT64__cob_common__ubuntu_trusty_amd64__binary)](http://build.ros.org/view/Jbin_uT64/job/Jbin_uT64__cob_common__ubuntu_trusty_amd64__binary/) | [![not released](http://build.ros.org/buildStatus/icon?job=Ksrc_uX__cob_common__ubuntu_xenial__source)](http://build.ros.org/view/Ksrc_uX/job/Ksrc_uX__cob_common__ubuntu_xenial__source/) | [![not released](http://build.ros.org/buildStatus/icon?job=Kbin_uX64__cob_common__ubuntu_xenial_amd64__binary)](http://build.ros.org/view/Kbin_uX64/job/Kbin_uX64__cob_common__ubuntu_xenial_amd64__binary/) |[m
[32m+[m
[32m+[m
[32m+[m[32mThis is a repository for Care-O-bot URDF macros and common message/service descriptions.[m
[32m+[m
[32m+[m[32mInstallation instructions and tutorials can be found at http://www.care-o-bot.org.[m
[1mdiff --git a/cob_common/CHANGELOG.rst b/cob_common/CHANGELOG.rst[m
[1mindex 0ba77a2..294f3df 100644[m
[1m--- a/cob_common/CHANGELOG.rst[m
[1m+++ b/cob_common/CHANGELOG.rst[m
[36m@@ -2,6 +2,14 @@[m
 Changelog for package cob_common[m
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[m
 [m
[32m+[m[32m0.6.7 (2017-07-17)[m
[32m+[m[32m------------------[m
[32m+[m[32m* manually fix changelog[m
[32m+[m[32m* Contributors: ipa-fxm[m
[32m+[m
[32m+[m[32m0.6.6 (2016-10-10)[m
[32m+[m[32m------------------[m
[32m+[m
 0.6.5 (2016-04-01)[m
 ------------------[m
 [m
[1mdiff --git a/cob_common/package.xml b/cob_common/package.xml[m
[1mindex daac34c..bd4dee7 100644[m
[1m--- a/cob_common/package.xml[m
[1m+++ b/cob_common/package.xml[m
[36m@@ -1,6 +1,6 @@[m
 <package format="2">[m
   <name>cob_common</name>[m
[31m-  <version>0.6.5</version>[m
[32m+[m[32m  <version>0.6.7</version>[m
   <description>The cob_common stack hosts common packages that are used within the Care-O-bot repository. E.g. utility packages or common message and service definitions etc. Also the urdf desciption of the robot is located in this stack.</description>[m
   <license>LGPL</license>[m
 [m
[1mdiff --git a/cob_description/CHANGELOG.rst b/cob_description/CHANGELOG.rst[m
[1mindex af24029..de0dfe5 100644[m
[1m--- a/cob_description/CHANGELOG.rst[m
[1m+++ b/cob_description/CHANGELOG.rst[m
[36m@@ -2,6 +2,60 @@[m
 Changelog for package cob_description[m
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[m
 [m
[32m+[m[32m0.6.7 (2017-07-17)[m
[32m+[m[32m------------------[m
[32m+[m[32m* use asus xtion default values[m
[32m+[m[32m* usb_cam default values[m
[32m+[m[32m* use realsense default values[m
[32m+[m[32m* separate laser scanner from base[m
[32m+[m[32m* remove static tf frames[m
[32m+[m[32m* raise effort limit. fixes https://github.com/ipa320/cob_robots/issues/641[m
[32m+[m[32m* change back mean value of noise (caused troubles for close by obstacles)[m
[32m+[m[32m* set proper velocity limits for cob4 drive_wheel[m
[32m+[m[32m* adjusted laserscan-sensors in simulation[m
[32m+[m[32m* proper conditions[m
[32m+[m[32m* move gazebo_ros_control plugin[m
[32m+[m[32m* use xacro --inorder[m
[32m+[m[32m* fix collision mesh for cob4 torso[m
[32m+[m[32m* remove obsolete components due to unsupported robots[m
[32m+[m[32m* Merge pull request `#200 <https://github.com/ipa320/cob_common/issues/200>`_ from ipa-fxm/latest_xacro_syntax[m
[32m+[m[32m  use latest xacro syntax[m
[32m+[m[32m* allow static sensorring[m
[32m+[m[32m* fix syntax error[m
[32m+[m[32m* use latest xacro syntax[m
[32m+[m[32m* manually fix changelog[m
[32m+[m[32m* unify torso xacros, use default transmission macro[m
[32m+[m[32m* move sensors from torso xacro to robot xacro[m
[32m+[m[32m* remove unused torso_3dof[m
[32m+[m[32m* use default transmission macro[m
[32m+[m[32m* unify sensorring xacros[m
[32m+[m[32m* move sensors from sensorring xacro to robot xacro[m
[32m+[m[32m* remove unused sensorring_3dcs[m
[32m+[m[32m* unify head xacros[m
[32m+[m[32m* introduce default transmission[m
[32m+[m[32m* move sensors from head xacro to robot xacro[m
[32m+[m[32m* removed softkinetic description[m
[32m+[m[32m* updated resolution for usb camera[m
[32m+[m[32m* updated resolution for usb camera[m
[32m+[m[32m* renamed xacro and files(head_cam -> usb_cam)[m
[32m+[m[32m* check camera resolution[m
[32m+[m[32m* added head_cam frame to urdf[m
[32m+[m[32m* Contributors: Felix Messmer, Florian Weisshardt, Mathias Lüdtke, fmw-hb, ipa-fxm, ipa-nhg[m
[32m+[m
[32m+[m[32m0.6.6 (2016-10-10)[m
[32m+[m[32m------------------[m
[32m+[m[32m* review velocity axis limit[m
[32m+[m[32m* new torso and sensorring configurations[m
[32m+[m[32m* the realsense publishes already the frames, it is a bug[m
[32m+[m[32m* added realsense torso description[m
[32m+[m[32m* realsense camera description[m
[32m+[m[32m* adapt head urdf to hardware kinematics[m
[32m+[m[32m* check head urdf model[m
[32m+[m[32m* Update softkinetic.urdf.xacro[m
[32m+[m[32m* updated softkinetic urdf[m
[32m+[m[32m* add geometry macros with meshes[m
[32m+[m[32m* Contributors: Nadia Hammoudeh García, fmw-hb, ipa-cob4-2, ipa-cob4-5, ipa-fxm, ipa-fxm-cm, ipa-nhg[m
[32m+[m
 0.6.5 (2016-04-01)[m
 ------------------[m
 * fix cob3_tray_3dof meshes[m
[1mdiff --git a/cob_description/CMakeLists.txt b/cob_description/CMakeLists.txt[m
[1mindex 82d0a46..e10cc3d 100644[m
[1m--- a/cob_description/CMakeLists.txt[m
[1m+++ b/cob_description/CMakeLists.txt[m
[36m@@ -5,7 +5,7 @@[m [mfind_package(catkin REQUIRED COMPONENTS)[m
 [m
 catkin_package()[m
 [m
[31m-install(DIRECTORY gazebo Media meshes urdf[m
[32m+[m[32minstall(DIRECTORY Media meshes urdf[m
   DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION}[m
 )[m
 [m
[1mdiff --git a/cob_description/gazebo/gazebo.urdf.xacro b/cob_description/gazebo/gazebo.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 918b186..0000000[m
[1m--- a/cob_description/gazebo/gazebo.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,11 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <gazebo>[m
[31m-    <plugin name="ros_control" filename="libgazebo_ros_control.so">[m
[31m-      <!--robotNamespace>/</robotNamespace-->[m
[31m-      <!--robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType-->[m
[31m-    </plugin>[m
[31m-  </gazebo>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/meshes/cob3_base/base.stl b/cob_description/meshes/cob3_base/base.stl[m
[1mdeleted file mode 100644[m
[1mindex 089abe2..0000000[m
Binary files a/cob_description/meshes/cob3_base/base.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_base/base_collision.stl b/cob_description/meshes/cob3_base/base_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex ed2e9ca..0000000[m
Binary files a/cob_description/meshes/cob3_base/base_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_torso/head_cover.stl b/cob_description/meshes/cob3_torso/head_cover.stl[m
[1mdeleted file mode 100644[m
[1mindex 4678651..0000000[m
Binary files a/cob_description/meshes/cob3_torso/head_cover.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_torso/head_cover_collision.stl b/cob_description/meshes/cob3_torso/head_cover_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 379c861..0000000[m
Binary files a/cob_description/meshes/cob3_torso/head_cover_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_torso/lower_neck.stl b/cob_description/meshes/cob3_torso/lower_neck.stl[m
[1mdeleted file mode 100644[m
[1mindex fbf6b85..0000000[m
Binary files a/cob_description/meshes/cob3_torso/lower_neck.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_torso/lower_neck_collision.stl b/cob_description/meshes/cob3_torso/lower_neck_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex e6c4a9d..0000000[m
Binary files a/cob_description/meshes/cob3_torso/lower_neck_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_torso/upper_neck.stl b/cob_description/meshes/cob3_torso/upper_neck.stl[m
[1mdeleted file mode 100644[m
[1mindex c0cfb7f..0000000[m
Binary files a/cob_description/meshes/cob3_torso/upper_neck.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_torso/upper_neck_collision.stl b/cob_description/meshes/cob3_torso/upper_neck_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 20ac749..0000000[m
Binary files a/cob_description/meshes/cob3_torso/upper_neck_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_tray/tray.stl b/cob_description/meshes/cob3_tray/tray.stl[m
[1mdeleted file mode 100644[m
[1mindex ff51d3f..0000000[m
Binary files a/cob_description/meshes/cob3_tray/tray.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_tray/tray_collision.stl b/cob_description/meshes/cob3_tray/tray_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 086939d..0000000[m
Binary files a/cob_description/meshes/cob3_tray/tray_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_tray_3DOF/tray_link_1.stl b/cob_description/meshes/cob3_tray_3DOF/tray_link_1.stl[m
[1mdeleted file mode 100644[m
[1mindex 0825fa9..0000000[m
Binary files a/cob_description/meshes/cob3_tray_3DOF/tray_link_1.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_tray_3DOF/tray_link_2.stl b/cob_description/meshes/cob3_tray_3DOF/tray_link_2.stl[m
[1mdeleted file mode 100644[m
[1mindex 8b2c368..0000000[m
Binary files a/cob_description/meshes/cob3_tray_3DOF/tray_link_2.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob3_tray_3DOF/tray_link_3.stl b/cob_description/meshes/cob3_tray_3DOF/tray_link_3.stl[m
[1mdeleted file mode 100644[m
[1mindex 01af559..0000000[m
Binary files a/cob_description/meshes/cob3_tray_3DOF/tray_link_3.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/cob4_torso/torso_link_collision.stl b/cob_description/meshes/cob4_torso/torso_link_collision.stl[m
[1mindex 6248ac9..fd92459 100644[m
Binary files a/cob_description/meshes/cob4_torso/torso_link_collision.stl and b/cob_description/meshes/cob4_torso/torso_link_collision.stl differ
[1mdiff --git a/cob_description/meshes/lbr/joint_1.stl b/cob_description/meshes/lbr/joint_1.stl[m
[1mdeleted file mode 100644[m
[1mindex 422dfd2..0000000[m
Binary files a/cob_description/meshes/lbr/joint_1.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_1_collision.stl b/cob_description/meshes/lbr/joint_1_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex b0392b3..0000000[m
Binary files a/cob_description/meshes/lbr/joint_1_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_2.stl b/cob_description/meshes/lbr/joint_2.stl[m
[1mdeleted file mode 100644[m
[1mindex 5c8347a..0000000[m
Binary files a/cob_description/meshes/lbr/joint_2.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_2_collision.stl b/cob_description/meshes/lbr/joint_2_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex a14ffeb..0000000[m
Binary files a/cob_description/meshes/lbr/joint_2_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_3.stl b/cob_description/meshes/lbr/joint_3.stl[m
[1mdeleted file mode 100644[m
[1mindex ea4a82e..0000000[m
Binary files a/cob_description/meshes/lbr/joint_3.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_3_collision.stl b/cob_description/meshes/lbr/joint_3_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 40aa908..0000000[m
Binary files a/cob_description/meshes/lbr/joint_3_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_4.stl b/cob_description/meshes/lbr/joint_4.stl[m
[1mdeleted file mode 100644[m
[1mindex 4a2c96d..0000000[m
Binary files a/cob_description/meshes/lbr/joint_4.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_4_collision.stl b/cob_description/meshes/lbr/joint_4_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 01ee65d..0000000[m
Binary files a/cob_description/meshes/lbr/joint_4_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_5.stl b/cob_description/meshes/lbr/joint_5.stl[m
[1mdeleted file mode 100644[m
[1mindex 2b1b116..0000000[m
Binary files a/cob_description/meshes/lbr/joint_5.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_5_collision.stl b/cob_description/meshes/lbr/joint_5_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex e3a1443..0000000[m
Binary files a/cob_description/meshes/lbr/joint_5_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_6.stl b/cob_description/meshes/lbr/joint_6.stl[m
[1mdeleted file mode 100644[m
[1mindex 313d163..0000000[m
Binary files a/cob_description/meshes/lbr/joint_6.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_6_collision.stl b/cob_description/meshes/lbr/joint_6_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 215c557..0000000[m
Binary files a/cob_description/meshes/lbr/joint_6_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_7.stl b/cob_description/meshes/lbr/joint_7.stl[m
[1mdeleted file mode 100644[m
[1mindex f2d923d..0000000[m
Binary files a/cob_description/meshes/lbr/joint_7.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/joint_7_collision.stl b/cob_description/meshes/lbr/joint_7_collision.stl[m
[1mdeleted file mode 100644[m
[1mindex 4631edd..0000000[m
Binary files a/cob_description/meshes/lbr/joint_7_collision.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/lbr/lbr_offsets.txt b/cob_description/meshes/lbr/lbr_offsets.txt[m
[1mdeleted file mode 100644[m
[1mindex 1f7da9b..0000000[m
[1m--- a/cob_description/meshes/lbr/lbr_offsets.txt[m
[1m+++ /dev/null[m
[36m@@ -1,43 +0,0 @@[m
[31m-KUKA LBR[m
[31m-[m
[31m-Joint 1[m
[31m-xyz 0 0 -0.1915[m
[31m-Parent J1[m
[31m-Child J2[m
[31m-[m
[31m-Joint2[m
[31m-xyz 0 0 0[m
[31m-Parent J2[m
[31m-Child J3[m
[31m-[m
[31m-Joint 3[m
[31m-xyz 0 0 -0.400[m
[31m-Parent J3[m
[31m-Child J4[m
[31m-[m
[31m-Joint 4[m
[31m-xyz 0 0 0[m
[31m-Parent J4[m
[31m-Child J5[m
[31m-[m
[31m-Joint 5[m
[31m-xyz 0 0 -0.390[m
[31m-Parent J5[m
[31m-Child J6[m
[31m-[m
[31m-Joint 6[m
[31m-xyz 0 0 0[m
[31m-Parent J5[m
[31m-Child J6[m
[31m-[m
[31m-Joint 7[m
[31m-xyz 0 0 -0.078[m
[31m-Parent J6[m
[31m-Child J7[m
[31m-[m
[31m-Offset to hand 0.078[m
[31m-[m
[31m-  <xacro:cob_arm_v0 name="arm" parent="base_link">[m
[31m-    <origin xyz="0.040 -0.005 0.83637" rpy="3.1415926 0.7854 -1.8326" />[m
[31m-  </xacro:cob_arm_v0>[m
[31m-[m
[1mdiff --git a/cob_description/meshes/ur_connector/ur_connector1.stl b/cob_description/meshes/ur_connector/ur_connector1.stl[m
[1mdeleted file mode 100644[m
[1mindex 4f8b67c..0000000[m
Binary files a/cob_description/meshes/ur_connector/ur_connector1.stl and /dev/null differ
[1mdiff --git a/cob_description/meshes/ur_connector/ur_connector2.stl b/cob_description/meshes/ur_connector/ur_connector2.stl[m
[1mdeleted file mode 100644[m
[1mindex 62a7cf9..0000000[m
Binary files a/cob_description/meshes/ur_connector/ur_connector2.stl and /dev/null differ
[1mdiff --git a/cob_description/package.xml b/cob_description/package.xml[m
[1mindex 7a758ac..41d95f1 100644[m
[1m--- a/cob_description/package.xml[m
[1m+++ b/cob_description/package.xml[m
[36m@@ -1,6 +1,6 @@[m
 <package format="2">[m
   <name>cob_description</name>[m
[31m-  <version>0.6.5</version>[m
[32m+[m[32m  <version>0.6.7</version>[m
   <description>This package contains the description (mechanical, kinematic, visual,[m
   etc.) of the Care-O-bot robot. The files in this package are parsed and used by[m
   a variety of other components. Most users will not interact directly[m
[1mdiff --git a/cob_description/test/test_urdf.py b/cob_description/test/test_urdf.py[m
[1mindex cebeba4..35c91e1 100755[m
[1m--- a/cob_description/test/test_urdf.py[m
[1m+++ b/cob_description/test/test_urdf.py[m
[36m@@ -26,7 +26,7 @@[m [mclass TestUrdf(unittest.TestCase):[m
 			self.fail('file "' + file_to_test + '" not found')[m
 [m
 		# check if xacro can be converted[m
[31m-		p = subprocess.Popen("`rospack find xacro`/xacro.py " + file_to_test + " > /tmp/test.urdf", shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)[m
[32m+[m		[32mp = subprocess.Popen("`rospack find xacro`/xacro --inorder " + file_to_test + " > /tmp/test.urdf", shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)[m
 		if p.returncode != 0 and p.returncode != None:[m
 			self.fail("cannot convert xacro. file: " + file_to_test + "\n" + p.stderr.read())[m
 [m
[1mdiff --git a/cob_description/urdf/cob3_base/base.gazebo.xacro b/cob_description/urdf/cob3_base/base.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 9a3be8d..0000000[m
[1m--- a/cob_description/urdf/cob3_base/base.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,38 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="base_gazebo" params="name">[m
[31m-    <gazebo reference="${name}_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-      <sensor name='${name}_contact_sensor' type='contact'>[m
[31m-        <always_on>true</always_on>[m
[31m-        <update_rate>100.0</update_rate>[m
[31m-        <contact>[m
[31m-          <collision>${name}_link_collision</collision>[m
[31m-          <topic>${name}_bumper</topic>[m
[31m-        </contact>[m
[31m-        <plugin name="${name}_gazebo_ros_bumper_controller" filename="libgazebo_ros_bumper.so">[m
[31m-          <frameName>world</frameName>[m
[31m-          <bumperTopicName>${name}_bumper</bumperTopicName>[m
[31m-        </plugin>[m
[31m-      </sensor>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo>[m
[31m-      <plugin name="p3d_base_controller" filename="libgazebo_ros_p3d.so">[m
[31m-        <alwaysOn>true</alwaysOn>[m
[31m-        <updateRate>100.0</updateRate>[m
[31m-        <bodyName>${name}_link</bodyName>[m
[31m-        <topicName>${name}_pose_ground_truth</topicName>[m
[31m-        <frameName>map</frameName>[m
[31m-        <xyzOffsets>25.7 25.7 0</xyzOffsets> <!-- initialize odometry for fake localization-->[m
[31m-        <rpyOffsets>0 0 0</rpyOffsets>[m
[31m-        <gaussianNoise>0.01</gaussianNoise>[m
[31m-      </plugin>[m
[31m-      <canonicalBody>${name}_footprint</canonicalBody>[m
[31m-    </gazebo>[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_base/base.urdf.xacro b/cob_description/urdf/cob3_base/base.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 96c8427..0000000[m
[1m--- a/cob_description/urdf/cob3_base/base.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,90 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_base/base.gazebo.xacro" />[m
[31m-[m
[31m-  <!-- drive_wheel module -->[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/drive_wheel/drive_wheel.urdf.xacro" />[m
[31m-[m
[31m-  <!-- sensors -->[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/sick_s300_laser.urdf.xacro"/>[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/hokuyo_lx30_laser.urdf.xacro"/>[m
[31m-[m
[31m-  <!-- properties -->[m
[31m-  <property name="caster_offset_x" value="0.235" />  <!--modify here-->[m
[31m-  <property name="caster_offset_y" value="0.185" />[m
[31m-  <property name="caster_offset_z" value="0.075" />[m
[31m-[m
[31m-  <property name="base_mass" value="116.0" />[m
[31m-[m
[31m-[m
[31m-  <xacro:macro name="base" params="name">[m
[31m-[m
[31m-    <link name="${name}_footprint"/>[m
[31m-[m
[31m-    <joint name="${name}_footprint_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_footprint"/>[m
[31m-      <child link="${name}_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" />[m
[31m-        <mass value="${base_mass}" />[m
[31m-        <inertia ixx="5.652232699207" ixy="-0.009719934438" ixz="1.293988226423"[m
[31m-                 iyy="5.669473158652" iyz="-0.007379583694" izz="3.683196351726" />[m
[31m-      </inertial>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_base/base.stl"/>[m
[31m-        </geometry>[m
[31m-        <material name="IPA/LightGrey"/>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_base/base_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- arrangement of the four drive_wheel modules -->[m
[31m-    <xacro:drive_wheel parent="${name}_link" suffix="fl" >[m
[31m-      <origin xyz="${caster_offset_x} ${caster_offset_y} ${caster_offset_z}" rpy="0 0 0" />[m
[31m-    </xacro:drive_wheel>[m
[31m-    <xacro:drive_wheel parent="${name}_link" suffix="fr" >[m
[31m-      <origin xyz="${caster_offset_x} ${-caster_offset_y} ${caster_offset_z}" rpy="0 0 0" />[m
[31m-    </xacro:drive_wheel>[m
[31m-    <xacro:drive_wheel parent="${name}_link" suffix="bl" >[m
[31m-      <origin xyz="${-caster_offset_x} ${caster_offset_y} ${caster_offset_z}" rpy="0 0 0" />[m
[31m-    </xacro:drive_wheel>[m
[31m-    <xacro:drive_wheel parent="${name}_link" suffix="br"  >[m
[31m-      <origin xyz="${-caster_offset_x} ${-caster_offset_y} ${caster_offset_z}" rpy="0 0 0" />[m
[31m-    </xacro:drive_wheel>[m
[31m-[m
[31m-[m
[31m-    <!-- base laser front -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_front" parent="${name}">[m
[31m-      <origin xyz="${laser_front_x} ${laser_front_y} ${laser_front_z}" rpy="${laser_front_roll} ${laser_front_pitch} ${laser_front_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <!-- base laser rear -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_rear" parent="${name}">[m
[31m-      <origin xyz="${laser_rear_x} ${laser_rear_y} ${laser_rear_z}" rpy="${laser_rear_roll} ${laser_rear_pitch} ${laser_rear_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <!-- base laser top -->[m
[31m-    <xacro:hokuyo_lx30_laser_v0 name="${name}_laser_top" parent="${name}">[m
[31m-      <origin xyz="${laser_top_x} ${laser_top_y} ${laser_top_z}" rpy="${laser_top_roll} ${laser_top_pitch} ${laser_top_yaw}" />[m
[31m-    </xacro:hokuyo_lx30_laser_v0>[m
[31m-[m
[31m-[m
[31m-    <!-- gazebo extensions -->[m
[31m-    <xacro:base_gazebo name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_head/head.gazebo.xacro b/cob_description/urdf/cob3_head/head.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 3227fbd..0000000[m
[1m--- a/cob_description/urdf/cob3_head/head.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,14 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="head_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_axis_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_head/head.transmission.xacro b/cob_description/urdf/cob3_head/head.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex 1bc5b1c..0000000[m
[1m--- a/cob_description/urdf/cob3_head/head.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,18 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="head_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_axis_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_axis_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_axis_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_head/head_kinect.urdf.xacro b/cob_description/urdf/cob3_head/head_kinect.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex dd2d89a..0000000[m
[1m--- a/cob_description/urdf/cob3_head/head_kinect.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,93 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_head/head.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_head/head.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="head" params="name parent *origin">[m
[31m-[m
[31m-    <!-- joint between torso_upper_neck_tilt_link and head_base_link -->[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between head_base_link and head_axis_link -->[m
[31m-    <joint name="${name}_axis_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_axis_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="0.1" />[m
[31m-      <limit effort="100" lower="-3.2" upper="0.1" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_axis_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!--camera reference link-->[m
[31m-    <joint name="${name}_cam_reference_joint" type="fixed">[m
[31m-      <origin xyz="${cam_reference_x} ${cam_reference_y} ${cam_reference_z}" rpy="${cam_reference_roll} ${cam_reference_pitch} ${cam_reference_yaw}" />[m
[31m-      <parent link="${name}_axis_link"/>[m
[31m-      <child link="${name}_cam_reference_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_cam_reference_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- cam3d -->[m
[31m-    <xacro:cob_kinect_v0 name="cam3d" ros_topic="cam3d" parent="${name}_cam_reference_link">[m
[31m-      <origin xyz="${cam3d_x} ${cam3d_y} ${cam3d_z}" rpy="${cam3d_roll} ${cam3d_pitch} ${cam3d_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:head_gazebo name="${name}" />[m
[31m-    <xacro:head_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_head/head_prosilicas_kinect.urdf.xacro b/cob_description/urdf/cob3_head/head_prosilicas_kinect.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 8e7d121..0000000[m
[1m--- a/cob_description/urdf/cob3_head/head_prosilicas_kinect.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,103 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_head/head.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_head/head.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/prosilica.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="head" params="name parent *origin">[m
[31m-    <!-- joint between torso_upper_neck_tilt_link and head_base_link -->[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_upper_neck_tilt_link and head_axis_link -->[m
[31m-    <joint name="${name}_axis_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_axis_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="0.1" />[m
[31m-      <limit effort="100" lower="-3.2" upper="0.1" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_axis_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!--camera reference link-->[m
[31m-    <joint name="${name}_cam_reference_joint" type="fixed">[m
[31m-      <origin xyz="${cam_reference_x} ${cam_reference_y} ${cam_reference_z}" rpy="${cam_reference_roll} ${cam_reference_pitch} ${cam_reference_yaw}" />[m
[31m-      <parent link="${name}_axis_link"/>[m
[31m-      <child link="${name}_cam_reference_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_cam_reference_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:cob_prosilica_v0 name="${name}_color_camera_l" ros_topic="stereo/left" parent="${name}_cam_reference_link">[m
[31m-      <origin xyz="${cam_l_x} ${cam_l_y} ${cam_l_z}" rpy="${cam_l_roll} ${cam_l_pitch} ${cam_l_yaw}" />[m
[31m-    </xacro:cob_prosilica_v0>[m
[31m-[m
[31m-    <!-- right camera -->[m
[31m-    <xacro:cob_prosilica_v0 name="${name}_color_camera_r" ros_topic="stereo/right" parent="${name}_cam_reference_link">[m
[31m-      <origin xyz="${cam_r_x} ${cam_r_y} ${cam_r_z}" rpy="${cam_r_roll} ${cam_r_pitch} ${cam_r_yaw}" />[m
[31m-    </xacro:cob_prosilica_v0>[m
[31m-[m
[31m-    <!-- cam3d -->[m
[31m-    <xacro:cob_kinect_v0 name="cam3d" ros_topic="cam3d" parent="${name}_cam_reference_link">[m
[31m-      <origin xyz="${cam3d_x} ${cam3d_y} ${cam3d_z}" rpy="${cam3d_roll} ${cam3d_pitch} ${cam3d_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:head_gazebo name="${name}" />[m
[31m-    <xacro:head_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_torso/torso_v1.gazebo.xacro b/cob_description/urdf/cob3_torso/torso_v1.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex b34cf3b..0000000[m
[1m--- a/cob_description/urdf/cob3_torso/torso_v1.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,38 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="torso_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_lower_neck_pan_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_lower_neck_tilt_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_upper_neck_pan_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_upper_neck_tilt_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="head_cover_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Black</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_torso/torso_v1.transmission.xacro b/cob_description/urdf/cob3_torso/torso_v1.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex 5ca0114..0000000[m
[1m--- a/cob_description/urdf/cob3_torso/torso_v1.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,48 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="torso_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_lower_neck_pan_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_lower_neck_pan_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_lower_neck_pan_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_lower_neck_tilt_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_lower_neck_tilt_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_lower_neck_tilt_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_upper_neck_pan_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_upper_neck_pan_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_upper_neck_pan_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_upper_neck_tilt_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_upper_neck_tilt_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_upper_neck_tilt_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_torso/torso_v1.urdf.xacro b/cob_description/urdf/cob3_torso/torso_v1.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 1d920d4..0000000[m
[1m--- a/cob_description/urdf/cob3_torso/torso_v1.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,190 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_torso/torso_v1.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_torso/torso_v1.transmission.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="name parent *origin">[m
[31m-[m
[31m-    <!-- joint between base_link and torso_base_link -->[m
[31m-    <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}" />[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- joint between base_link and torso_lower_neck_pan_link -->[m
[31m-    <joint name="${name}_lower_neck_pan_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_lower_neck_pan_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200" lower="-0.1" upper="0.1" velocity="0.5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_lower_neck_pan_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <!--inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="1.0"/>[m
[31m-        <inertia ixx="0.200549" ixy="0.001322" ixz="-0.000000" iyy="0.123664" iyz="-0.000000" izz="0.104101" />[m
[31m-      </inertial-->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_lower_neck_pan_link and torso_lower_neck_tilt_link -->[m
[31m-    <joint name="${name}_lower_neck_tilt_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_lower_neck_pan_link"/>[m
[31m-      <child link="${name}_lower_neck_tilt_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200" lower="-0.26" upper="0.25" velocity="0.5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-[m
[31m-    <link name="${name}_lower_neck_tilt_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <!--inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="6.209720"/>[m
[31m-        <inertia ixx="0.171118" ixy="0.002544" ixz="-0.000000" iyy="0.083077" iyz="0.000000" izz="0.120948" />[m
[31m-      </inertial-->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/lower_neck.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/LightGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/lower_neck_collision.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_lower_neck_tilt_link and torso_upper_neck_pan_link -->[m
[31m-    <joint name="${name}_upper_neck_pan_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.237 0" rpy="-${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_lower_neck_tilt_link"/>[m
[31m-      <child link="${name}_upper_neck_pan_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200" lower="-0.2" upper="0.2" velocity="0.5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_upper_neck_pan_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <!--inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="1.0"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial-->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_upper_neck_pan_link and torso_upper_neck_tilt_link -->[m
[31m-    <joint name="${name}_upper_neck_tilt_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_upper_neck_pan_link"/>[m
[31m-      <child link="${name}_upper_neck_tilt_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200" lower="-0.21" upper="0.3" velocity="0.5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_upper_neck_tilt_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <!--inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="6.744238"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial-->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/upper_neck.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/LightGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/upper_neck.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_upper_neck_tilt_link and head_cover_link -->[m
[31m-    <joint name="head_cover_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_upper_neck_tilt_link"/>[m
[31m-      <child link="head_cover_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="head_cover_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/head_cover.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Black" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/head_cover_collision.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="${name}" />[m
[31m-    <xacro:torso_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_torso/torso_v2.gazebo.xacro b/cob_description/urdf/cob3_torso/torso_v2.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 2f92c9e..0000000[m
[1m--- a/cob_description/urdf/cob3_torso/torso_v2.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,32 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="torso_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_lower_neck_tilt_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_pan_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_upper_neck_tilt_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="head_cover_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Black</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_torso/torso_v2.transmission.xacro b/cob_description/urdf/cob3_torso/torso_v2.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex 0e858b9..0000000[m
[1m--- a/cob_description/urdf/cob3_torso/torso_v2.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,38 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="torso_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_lower_neck_tilt_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_lower_neck_tilt_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_lower_neck_tilt_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_pan_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_pan_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_pan_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_upper_neck_tilt_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_upper_neck_tilt_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_upper_neck_tilt_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_torso/torso_v2.urdf.xacro b/cob_description/urdf/cob3_torso/torso_v2.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex a0fb2e8..0000000[m
[1m--- a/cob_description/urdf/cob3_torso/torso_v2.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,151 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_torso/torso_v2.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_torso/torso_v2.transmission.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="name parent *origin">[m
[31m-[m
[31m-    <!-- joint between base_link and torso_base_link -->[m
[31m-    <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}" />[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between base_link and torso_lower_neck_tilt_link -->[m
[31m-    <joint name="${name}_lower_neck_tilt_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_lower_neck_tilt_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200.0" lower="-0.25" upper="0.21" velocity="0.5"/>[m
[31m-      <!--safety_controller k_position="20" k_velocity="50" soft_lower_limit="${-0.25 + 0.01}" soft_upper_limit="${0.25 - 0.01}" /-->[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_lower_neck_tilt_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <!--inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="6.209720"/>[m
[31m-        <inertia ixx="0.171118" ixy="0.002544" ixz="-0.000000" iyy="0.083077" iyz="0.000000" izz="0.120948" />[m
[31m-      </inertial-->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="${M_PI} 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/lower_neck.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/LightGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="${M_PI} 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/lower_neck_collision.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_lower_neck_tilt_link and torso_pan_link -->[m
[31m-    <joint name="${name}_pan_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_lower_neck_tilt_link"/>[m
[31m-      <child link="${name}_pan_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200.0" lower="-0.12" upper="0.12" velocity="0.5"/>[m
[31m-      <!--safety_controller k_position="20" k_velocity="50" soft_lower_limit="${-0.2 + 0.01}" soft_upper_limit="${0.2 - 0.01}" /-->[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_pan_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_pan_link and torso_upper_neck_tilt_link -->[m
[31m-    <joint name="${name}_upper_neck_tilt_joint" type="revolute">[m
[31m-      <origin xyz="0 0 -0.2565" rpy="-${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_pan_link"/>[m
[31m-      <child link="${name}_upper_neck_tilt_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="25.0" friction="10.0"/>[m
[31m-      <limit effort="200.0" lower="-0.37" upper="0.37" velocity="0.5"/>[m
[31m-      <!--safety_controller k_position="20" k_velocity="50" soft_lower_limit="${-0.4 + 0.01}" soft_upper_limit="${0.4 - 0.01}" /-->[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_upper_neck_tilt_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="${M_PI} 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/upper_neck.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/LightGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="${M_PI} 0 0" />[m
[31m-        <geometry>[m
[31m-          <!--mesh filename="package://cob_description/meshes/cob3_torso/upper_neck_collision.stl" /-->[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/upper_neck.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between torso_upper_neck_tilt_link and head_cover_link -->[m
[31m-    <joint name="head_cover_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0" rpy="${M_PI} 0 0" />[m
[31m-      <parent link="${name}_upper_neck_tilt_link"/>[m
[31m-      <child link="head_cover_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="head_cover_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/head_cover.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Black" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_torso/head_cover_collision.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="${name}" />[m
[31m-    <xacro:torso_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_tray/tray.gazebo.xacro b/cob_description/urdf/cob3_tray/tray.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 69c5dc8..0000000[m
[1m--- a/cob_description/urdf/cob3_tray/tray.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,14 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="tray_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/DarkGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_tray/tray.transmission.xacro b/cob_description/urdf/cob3_tray/tray.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex 7c5a9f8..0000000[m
[1m--- a/cob_description/urdf/cob3_tray/tray.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,18 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="tray_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_tray/tray.urdf.xacro b/cob_description/urdf/cob3_tray/tray.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex e7f285f..0000000[m
[1m--- a/cob_description/urdf/cob3_tray/tray.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,110 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_tray/tray.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_tray/tray.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/phidgets_distance.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="tray" params="name parent *origin">[m
[31m-[m
[31m-    <!-- joint between base_link and tray_link -->[m
[31m-    <joint name="${name}_joint" type="revolute">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5.0" friction="0.5"/>[m
[31m-      <limit effort="100" lower="-3.31612" upper="0.2" velocity="5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray/tray.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray/tray_collision.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- additional links at the corners of the tray -->[m
[31m-    <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <origin xyz="0 0 0" rpy="-2.3561 0 0"/>[m
[31m-      <parent link="${name}_link" />[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_right_joint" type="fixed" >[m
[31m-      <origin xyz="0.4 -0.3 0.1" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link" />[m
[31m-      <child link="${name}_right_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_right_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_left_joint" type="fixed" >[m
[31m-      <origin xyz="0.4 0.05 0.1" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link" />[m
[31m-      <child link="${name}_left_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_left_link"/>[m
[31m-[m
[31m-    <!-- phidgets distance sensors -->[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_1" ros_topic="/tray_sensors/range_1_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="-0.275 0 0.02" rpy="0 0 ${-M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_2" ros_topic="/tray_sensors/range_2_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="-0.2 0 0.02" rpy="0 0 ${-M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_3" ros_topic="/tray_sensors/range_3_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="-0.125 0 0.02" rpy="0 0 ${-M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_4" ros_topic="/tray_sensors/range_4_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="-0.05 0 0.02" rpy="0 0 ${-M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:tray_gazebo name="${name}" />[m
[31m-    <xacro:tray_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_tray/tray_3dof.gazebo.xacro b/cob_description/urdf/cob3_tray/tray_3dof.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 45f916a..0000000[m
[1m--- a/cob_description/urdf/cob3_tray/tray_3dof.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,24 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="tray_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_1_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/DarkGrey</material>[m
[31m-    </gazebo>[m
[31m-    <gazebo reference="${name}_2_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/DarkGrey</material>[m
[31m-    </gazebo>[m
[31m-    <gazebo reference="${name}_3_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/DarkGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_tray/tray_3dof.transmission.xacro b/cob_description/urdf/cob3_tray/tray_3dof.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex ebddff8..0000000[m
[1m--- a/cob_description/urdf/cob3_tray/tray_3dof.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,38 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="tray_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_1_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_1_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_1_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_2_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_2_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_2_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_3_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_3_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_3_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob3_tray/tray_3dof.urdf.xacro b/cob_description/urdf/cob3_tray/tray_3dof.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 7d12d65..0000000[m
[1m--- a/cob_description/urdf/cob3_tray/tray_3dof.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,155 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_tray/tray_3dof.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob3_tray/tray_3dof.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/phidgets_distance.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="tray" params="name parent *origin">[m
[31m-[m
[31m-    <!-- joint between base_link and tray_link -->[m
[31m-    <joint name="${name}_1_joint" type="revolute">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_1_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5.0" friction="0.5"/>[m
[31m-      <limit effort="100" lower="-0.02" upper="1.37" velocity="5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray_3DOF/tray_link_1.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray_3DOF/tray_link_1.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="revolute">[m
[31m-      <origin xyz="0.178 -0.169 0.159" rpy="0 1.570796 0"/>[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5.0" friction="0.5"/>[m
[31m-      <limit effort="100" lower="-3.34" upper="3.34" velocity="5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray_3DOF/tray_link_2.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray_3DOF/tray_link_2.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="revolute">[m
[31m-      <origin xyz="0.0 -0.0671 0.0671" rpy="1.570796 0 0"/>[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5.0" friction="0.5"/>[m
[31m-      <limit effort="100" lower="-3.34" upper="3.34" velocity="5"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray_3DOF/tray_link_3.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob3_tray_3DOF/tray_link_3.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_right_joint" type="fixed" >[m
[31m-      <origin xyz="-0.1146 0 0.3741570" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_3_link" />[m
[31m-      <child link="${name}_right_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_right_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size=".001 .001 .001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_left_joint" type="fixed" >[m
[31m-      <origin xyz="-0.1146 0 0.06591570" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_3_link" />[m
[31m-      <child link="${name}_left_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_left_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size=".001 .001 .001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- phidgets distance sensors -->[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_1" ros_topic="/tray_sensors/range_1_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="0.04 -0.02424 0.07  " rpy="0 0 ${M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_2" ros_topic="/tray_sensors/range_2_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="0.09 -0.02424 0.07" rpy="0 0 ${M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_3" ros_topic="/tray_sensors/range_3_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="0.14 -0.02424 0.07" rpy="0 0 ${M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-    <xacro:phidgets_distance_v0 name="${name}_phidgets_4" ros_topic="/tray_sensors/range_4_sim" update_rate="10" parent="${name}_left">[m
[31m-      <origin xyz="0.19 -0.02424 0.07" rpy="0 0 ${M_PI/2}" />[m
[31m-    </xacro:phidgets_distance_v0>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:tray_gazebo name="${name}" />[m
[31m-    <xacro:tray_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_base/base.urdf.xacro b/cob_description/urdf/cob4_base/base.urdf.xacro[m
[1mindex 5608d53..b4f6b3a 100644[m
[1m--- a/cob_description/urdf/cob4_base/base.urdf.xacro[m
[1m+++ b/cob_description/urdf/cob4_base/base.urdf.xacro[m
[36m@@ -6,19 +6,19 @@[m
   <!-- drive_wheel module -->[m
   <xacro:include filename="$(find cob_description)/urdf/drive_wheel/drive_wheel.urdf.xacro" />[m
 [m
[31m-  <!-- sensors -->[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/sick_s300_laser.urdf.xacro"/>[m
[31m-[m
   <!-- properties -->[m
[31m-  <property name="caster_offset_x" value="0.24844" />  <!--modify here-->[m
[31m-  <property name="caster_offset_y" value="0.21515" />[m
[31m-  <property name="caster_offset_z" value="0.08" />[m
[32m+[m[32m  <xacro:property name="caster_offset_x" value="0.24844" />  <!--modify here-->[m
[32m+[m[32m  <xacro:property name="caster_offset_y" value="0.21515" />[m
[32m+[m[32m  <xacro:property name="caster_offset_z" value="0.08" />[m
 [m
[31m-  <property name="base_mass" value="50" />[m
[32m+[m[32m  <xacro:property name="base_mass" value="50" />[m
 [m
 [m
   <xacro:macro name="base" params="name use_old_joint_names">[m
 [m
[32m+[m[32m    <xacro:property name="drive_vel" value="19.95" />[m
[32m+[m[32m    <xacro:property name="steer_vel" value="117.81" />[m
[32m+[m
     <link name="${name}_footprint"/>[m
 [m
     <joint name="${name}_footprint_joint" type="fixed">[m
[36m@@ -77,23 +77,17 @@[m
     </xacro:unless>[m
 [m
 [m
[31m-    <!-- sensors -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_front" parent="${name}">[m
[31m-      <origin xyz="${laser_front_x} ${laser_front_y} ${laser_front_z}" rpy="${laser_front_roll} ${laser_front_pitch} ${laser_front_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_left" parent="${name}">[m
[31m-      <origin xyz="${laser_left_x} ${laser_left_y} ${laser_left_z}" rpy="${laser_left_roll} ${laser_left_pitch} ${laser_left_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_right" parent="${name}">[m
[31m-      <origin xyz="${laser_right_x} ${laser_right_y} ${laser_right_z}" rpy="${laser_right_roll} ${laser_right_pitch} ${laser_right_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-[m
     <!-- gazebo extensions -->[m
     <xacro:base_gazebo name="${name}" />[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/cob_description/urdf/cob4_gripper/gripper.urdf.xacro b/cob_description/urdf/cob4_gripper/gripper.urdf.xacro[m
[1mindex d2d44d0..7779dc0 100644[m
[1m--- a/cob_description/urdf/cob4_gripper/gripper.urdf.xacro[m
[1m+++ b/cob_description/urdf/cob4_gripper/gripper.urdf.xacro[m
[36m@@ -8,7 +8,7 @@[m
 [m
     <!-- joint between base_link and gripper_base_link -->[m
     <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}" />[m
       <child link="${name}_base_link" />[m
     </joint>[m
[36m@@ -155,6 +155,14 @@[m
     <xacro:gripper_gazebo name="${name}" />[m
     <xacro:gripper_transmission name="${name}" />[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/cob_description/urdf/cob4_head/head.transmission.xacro b/cob_description/urdf/cob4_head/head.transmission.xacro[m
[1mindex c618e48..80c0a25 100644[m
[1m--- a/cob_description/urdf/cob4_head/head.transmission.xacro[m
[1m+++ b/cob_description/urdf/cob4_head/head.transmission.xacro[m
[36m@@ -1,40 +1,19 @@[m
 <?xml version="1.0"?>[m
 <robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
 [m
[31m-  <xacro:macro name="head_transmission" params="name">[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/common.xacro" />[m
 [m
[31m-    <transmission name="${name}_1_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_1_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_1_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[32m+[m[32m  <xacro:macro name="head_transmission" params="name dof1 dof2 dof3">[m
 [m
[31m-    <transmission name="${name}_2_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_2_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_2_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_3_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_3_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_3_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[32m+[m[32m    <xacro:if value="${dof1}">[m
[32m+[m[32m      <xacro:default_transmission jname="${name}_1"/>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m[32m    <xacro:if value="${dof2}">[m[41m [m
[32m+[m[32m      <xacro:default_transmission jname="${name}_2"/>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m[32m    <xacro:if value="${dof3}">[m
[32m+[m[32m      <xacro:default_transmission jname="${name}_3"/>[m
[32m+[m[32m    </xacro:if>[m
 [m
   </xacro:macro>[m
 [m
[1mdiff --git a/cob_description/urdf/cob4_head/head.urdf.xacro b/cob_description/urdf/cob4_head/head.urdf.xacro[m
[1mindex cf0abda..28a3711 100644[m
[1m--- a/cob_description/urdf/cob4_head/head.urdf.xacro[m
[1m+++ b/cob_description/urdf/cob4_head/head.urdf.xacro[m
[36m@@ -4,10 +4,10 @@[m
   <xacro:include filename="$(find cob_description)/urdf/cob4_head/head.gazebo.xacro" />[m
   <xacro:include filename="$(find cob_description)/urdf/cob4_head/head.transmission.xacro" />[m
 [m
[31m-  <xacro:macro name="head" params="parent name *origin">[m
[32m+[m[32m  <xacro:macro name="head" params="parent name *origin dof1:=false dof2:=false dof3:=false">[m
 [m
     <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <child link="${name}_base_link" />[m
       <parent link="${parent}"/>[m
     </joint>[m
[36m@@ -28,13 +28,22 @@[m
       </collision>[m
     </link>[m
 [m
[31m-    <joint name="${name}_1_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0.0305" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[32m+[m[32m    <xacro:unless value="${dof1}">[m
[32m+[m[32m      <joint name="${name}_1_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 0 0.0305" rpy="0 0 0"/>[m
[32m+[m[32m        <parent link="${name}_base_link"/>[m
[32m+[m[32m        <child link="${name}_1_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${dof1}">[m
[32m+[m[32m      <joint name="${name}_1_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 0 0.0305" rpy="0 0 0"/>[m
[32m+[m[32m        <parent link="${name}_base_link"/>[m
[32m+[m[32m        <child link="${name}_1_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
 [m
     <link name="${name}_1_link">[m
       <xacro:default_inertial/>[m
[36m@@ -52,13 +61,22 @@[m
       </collision>[m
     </link>[m
 [m
[31m-    <joint name="${name}_2_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.07725 0.00439" rpy="0.349 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[32m+[m[32m    <xacro:unless value="${dof2}">[m
[32m+[m[32m      <joint name="${name}_2_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 -0.07725 0.00439" rpy="0.349 0 0" />[m
[32m+[m[32m        <parent link="${name}_1_link"/>[m
[32m+[m[32m        <child link="${name}_2_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${dof2}">[m
[32m+[m[32m      <joint name="${name}_2_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 -0.07725 0.00439" rpy="0.349 0 0" />[m
[32m+[m[32m        <parent link="${name}_1_link"/>[m
[32m+[m[32m        <child link="${name}_2_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
 [m
     <link name="${name}_2_link">[m
       <xacro:default_inertial/>[m
[36m@@ -76,13 +94,22 @@[m
       </collision>[m
     </link>[m
 [m
[31m-    <joint name="${name}_3_joint" type="revolute">[m
[31m-      <origin xyz="0 0.09849 0.04476" rpy="-0.349 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[32m+[m[32m    <xacro:unless value="${dof3}">[m
[32m+[m[32m      <joint name="${name}_3_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 0.09849 0.04476" rpy="-0.349 0 0" />[m
[32m+[m[32m        <parent link="${name}_2_link"/>[m
[32m+[m[32m        <child link="${name}_3_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${dof3}">[m
[32m+[m[32m      <joint name="${name}_3_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 0.09849 0.04476" rpy="-0.349 0 0" />[m
[32m+[m[32m        <parent link="${name}_2_link"/>[m
[32m+[m[32m        <child link="${name}_3_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
 [m
     <link name="${name}_3_link">[m
       <xacro:default_inertial/>[m
[36m@@ -110,9 +137,19 @@[m
 [m
     <link name="${name}_center_link"/>[m
 [m
[31m-  <!-- extensions -->[m
[31m-  <xacro:head_gazebo name="${name}" />[m
[31m-  <xacro:head_transmission name="${name}" />[m
[32m+[m[32m    <!-- extensions -->[m
[32m+[m[32m    <xacro:head_gazebo name="${name}" />[m
[32m+[m[32m    <xacro:head_transmission name="${name}" dof1="${dof1}" dof2="${dof2}" dof3="${dof3}" />[m
[32m+[m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <xacro:if value="${(dof1 == 'true') or (dof2 == 'true') or (dof3 == 'true')}">[m
[32m+[m[32m      <gazebo>[m
[32m+[m[32m        <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m          <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m          <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m        </plugin>[m
[32m+[m[32m      </gazebo>[m
[32m+[m[32m    </xacro:if>[m
 [m
   </xacro:macro>[m
 [m
[1mdiff --git a/cob_description/urdf/cob4_head/head_static.urdf.xacro b/cob_description/urdf/cob4_head/head_static.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 12cb518..0000000[m
[1m--- a/cob_description/urdf/cob4_head/head_static.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,113 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_head/head.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_head/head.transmission.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="head" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <child link="${name}_base_link" />[m
[31m-      <parent link="${parent}"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_1_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0.0305" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="fixed">[m
[31m-      <origin xyz="0 -0.07725 -0.00439" rpy="-0.349 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="fixed">[m
[31m-      <origin xyz="0 0.04668 0.0976" rpy="0.349 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_head/head_link.dae"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_head/head_link_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_center_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 -0.28247" rpy="0 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_center_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_center_link"/>[m
[31m-[m
[31m-  <!-- extensions -->[m
[31m-  <xacro:head_gazebo name="${name}" />[m
[31m-  <xacro:head_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_sensorring/sensorring.transmission.xacro b/cob_description/urdf/cob4_sensorring/sensorring.transmission.xacro[m
[1mindex ffbe135..aa38a1b 100644[m
[1m--- a/cob_description/urdf/cob4_sensorring/sensorring.transmission.xacro[m
[1m+++ b/cob_description/urdf/cob4_sensorring/sensorring.transmission.xacro[m
[36m@@ -1,18 +1,13 @@[m
 <?xml version="1.0"?>[m
 <robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
 [m
[31m-  <xacro:macro name="sensorring_transmission" params="name">[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/common.xacro" />[m
 [m
[31m-    <transmission name="${name}_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[32m+[m[32m  <xacro:macro name="sensorring_transmission" params="name active">[m
[32m+[m
[32m+[m[32m    <xacro:if value="${active}">[m
[32m+[m[32m      <xacro:default_transmission jname="${name}"/>[m
[32m+[m[32m    </xacro:if>[m
 [m
   </xacro:macro>[m
 [m
[1mdiff --git a/cob_description/urdf/cob4_sensorring/sensorring.urdf.xacro b/cob_description/urdf/cob4_sensorring/sensorring.urdf.xacro[m
[1mindex fef4511..b9b07bd 100644[m
[1m--- a/cob_description/urdf/cob4_sensorring/sensorring.urdf.xacro[m
[1m+++ b/cob_description/urdf/cob4_sensorring/sensorring.urdf.xacro[m
[36m@@ -4,10 +4,10 @@[m
   <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.gazebo.xacro" />[m
   <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.transmission.xacro" />[m
 [m
[31m-  <xacro:macro name="sensorring" params="parent name *origin">[m
[32m+[m[32m  <xacro:macro name="sensorring" params="parent name *origin active:=false">[m
 [m
     <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_base_link" />[m
     </joint>[m
[36m@@ -28,13 +28,22 @@[m
       </collision>[m
     </link>[m
 [m
[31m-    <joint name="${name}_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="2.62"/>[m
[31m-    </joint>[m
[32m+[m[32m    <xacro:unless value="${active}">[m
[32m+[m[32m      <joint name="${name}_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <parent link="${name}_base_link"/>[m
[32m+[m[32m        <child link="${name}_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${active}">[m
[32m+[m[32m      <joint name="${name}_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <parent link="${name}_base_link"/>[m
[32m+[m[32m        <child link="${name}_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="2.62"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
 [m
     <link name="${name}_link">[m
       <xacro:default_inertial/>[m
[36m@@ -59,7 +68,17 @@[m
 [m
     <!-- extensions -->[m
     <xacro:sensorring_gazebo name="${name}" />[m
[31m-    <xacro:sensorring_transmission name="${name}" />[m
[32m+[m[32m    <xacro:sensorring_transmission name="${name}" active="${active}" />[m
[32m+[m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <xacro:if value="${active}">[m
[32m+[m[32m      <gazebo>[m
[32m+[m[32m        <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m          <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m          <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m        </plugin>[m
[32m+[m[32m      </gazebo>[m
[32m+[m[32m    </xacro:if>[m
 [m
   </xacro:macro>[m
 [m
[1mdiff --git a/cob_description/urdf/cob4_sensorring/sensorring_3dcs.urdf.xacro b/cob_description/urdf/cob4_sensorring/sensorring_3dcs.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 50026c1..0000000[m
[1m--- a/cob_description/urdf/cob4_sensorring/sensorring_3dcs.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,72 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/sick_3dcs.urdf.xacro" />[m
[31m-  [m
[31m-  <xacro:macro name="sensorring" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="2.62"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.1" mass="1.0">[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:sick_3dcs name="${name}_cam3d" ros_topic="sensorring_cam3d" parent="${name}_link">[m
[31m-      <origin xyz="${sensorring_cam3d_x} ${sensorring_cam3d_y} ${sensorring_cam3d_z}" rpy="${sensorring_cam3d_roll} ${sensorring_cam3d_pitch} ${sensorring_cam3d_yaw}" />[m
[31m-    </xacro:sick_3dcs>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:sensorring_gazebo name="${name}" />[m
[31m-    <xacro:sensorring_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_sensorring/sensorring_3dcs_asus.urdf.xacro b/cob_description/urdf/cob4_sensorring/sensorring_3dcs_asus.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex e44d84a..0000000[m
[1m--- a/cob_description/urdf/cob4_sensorring/sensorring_3dcs_asus.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,77 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/sick_3dcs.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-  [m
[31m-  <xacro:macro name="sensorring" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="2.62"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.1" mass="1.0">[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- camera -->[m
[31m-    <xacro:sick_3dcs name="${name}_cam3d_front" ros_topic="${name}_cam3d_front" parent="${name}_link">[m
[31m-      <origin xyz="${sensorring_cam3d_front_x} ${sensorring_cam3d_front_y} ${sensorring_cam3d_front_z}" rpy="${sensorring_cam3d_front_roll} ${sensorring_cam3d_front_pitch} ${sensorring_cam3d_front_yaw}" />[m
[31m-    </xacro:sick_3dcs>[m
[31m-[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_back" ros_topic="${name}_cam3d_back" parent="${name}_link">[m
[31m-      <origin xyz="${sensorring_cam3d_back_x} ${sensorring_cam3d_back_y} ${sensorring_cam3d_back_z}" rpy="${sensorring_cam3d_back_roll} ${sensorring_cam3d_back_pitch} ${sensorring_cam3d_back_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:sensorring_gazebo name="${name}" />[m
[31m-    <xacro:sensorring_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_sensorring/sensorring_asus.urdf.xacro b/cob_description/urdf/cob4_sensorring/sensorring_asus.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex a37892e..0000000[m
[1m--- a/cob_description/urdf/cob4_sensorring/sensorring_asus.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,71 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_sensorring/sensorring.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-  [m
[31m-  <xacro:macro name="sensorring" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="2.62"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.1" mass="1.0">[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d" ros_topic="${name}_cam3d" parent="${name}_link">[m
[31m-      <origin xyz="${sensorring_cam3d_x} ${sensorring_cam3d_y} ${sensorring_cam3d_z}" rpy="${sensorring_cam3d_roll} ${sensorring_cam3d_pitch} ${sensorring_cam3d_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:sensorring_gazebo name="${name}" />[m
[31m-    <xacro:sensorring_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso.transmission.xacro b/cob_description/urdf/cob4_torso/torso.transmission.xacro[m
[1mindex 7ede5da..cd06e3c 100644[m
[1m--- a/cob_description/urdf/cob4_torso/torso.transmission.xacro[m
[1m+++ b/cob_description/urdf/cob4_torso/torso.transmission.xacro[m
[36m@@ -1,40 +1,19 @@[m
 <?xml version="1.0"?>[m
 <robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
 [m
[31m-  <xacro:macro name="torso_transmission" params="name">[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/common.xacro" />[m
 [m
[31m-    <transmission name="${name}_1_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_1_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_1_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[32m+[m[32m  <xacro:macro name="torso_transmission" params="name dof1 dof2 dof3">[m
 [m
[31m-    <transmission name="${name}_2_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_2_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_2_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_3_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_3_joint">[m
[31m-        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[31m-        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_3_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[32m+[m[32m    <xacro:if value="${dof1}">[m
[32m+[m[32m      <xacro:default_transmission jname="${name}_1"/>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m[32m    <xacro:if value="${dof2}">[m[41m [m
[32m+[m[32m      <xacro:default_transmission jname="${name}_2"/>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m[32m    <xacro:if value="${dof3}">[m
[32m+[m[32m      <xacro:default_transmission jname="${name}_3"/>[m
[32m+[m[32m    </xacro:if>[m
 [m
   </xacro:macro>[m
 [m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso.urdf.xacro b/cob_description/urdf/cob4_torso/torso.urdf.xacro[m
[1mnew file mode 100644[m
[1mindex 0000000..8c229c7[m
[1m--- /dev/null[m
[1m+++ b/cob_description/urdf/cob4_torso/torso.urdf.xacro[m
[36m@@ -0,0 +1,188 @@[m
[32m+[m[32m<?xml version="1.0"?>[m
[32m+[m[32m<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[32m+[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.gazebo.xacro" />[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.transmission.xacro" />[m
[32m+[m
[32m+[m[32m  <xacro:macro name="torso" params="parent name *origin dof1:=false dof2:=false dof3:=false">[m
[32m+[m
[32m+[m[32m    <joint name="${name}_base_joint" type="fixed">[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
[32m+[m[32m      <parent link="${parent}"/>[m
[32m+[m[32m      <child link="${name}_base_link" />[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}_base_link">[m
[32m+[m[32m      <xacro:default_inertial/>[m
[32m+[m[32m<!--[m
[32m+[m[32m       <xacro:cylinder_inertial radius="0.300" length="0.046" mass="5.0">[m
[32m+[m[32m        <origin xyz="0.03 0.08 0.01" rpy="0 0 0" />[m
[32m+[m[32m      </xacro:cylinder_inertial>[m
[32m+[m[32m-->[m
[32m+[m[32m      <visual>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </visual>[m
[32m+[m[32m      <collision>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <xacro:unless value="${dof1}">[m
[32m+[m[32m      <joint name="${name}_1_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[32m+[m[32m        <parent link="${name}_base_link"/>[m
[32m+[m[32m        <child link="${name}_1_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${dof1}">[m
[32m+[m[32m      <joint name="${name}_1_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[32m+[m[32m        <parent link="${name}_base_link"/>[m
[32m+[m[32m        <child link="${name}_1_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m
[32m+[m[32m    <link name="${name}_1_link">[m
[32m+[m[32m      <xacro:default_inertial/>[m
[32m+[m[32m<!--[m
[32m+[m[32m      <xacro:hollow_spherical_cap_inertial r="0.295" h="0.075" t="0.010" mass="6">[m
[32m+[m[32m        <origin xyz="0 0 ${0.075/2}" rpy="0 0 0"/>[m
[32m+[m[32m      </xacro:hollow_spherical_cap_inertial>[m
[32m+[m[32m-->[m
[32m+[m[32m      <visual>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </visual>[m
[32m+[m[32m      <collision>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <xacro:unless value="${dof2}">[m
[32m+[m[32m      <joint name="${name}_2_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[32m+[m[32m        <parent link="${name}_1_link"/>[m
[32m+[m[32m        <child link="${name}_2_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${dof2}">[m
[32m+[m[32m      <joint name="${name}_2_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[32m+[m[32m        <parent link="${name}_1_link"/>[m
[32m+[m[32m        <child link="${name}_2_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m
[32m+[m[32m    <link name="${name}_2_link">[m
[32m+[m[32m      <xacro:default_inertial/>[m
[32m+[m[32m<!--[m
[32m+[m[32m      <xacro:spherical_cap_inertial r="0.295" h="0.075" mass="19.5">[m
[32m+[m[32m        <origin xyz="0.034 0.102 0.092" rpy="0.5236 0 0"/>[m
[32m+[m[32m      </xacro:spherical_cap_inertial>[m
[32m+[m[32m-->[m
[32m+[m[32m      <visual>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </visual>[m
[32m+[m[32m      <collision>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <xacro:unless value="${dof3}">[m
[32m+[m[32m      <joint name="${name}_3_joint" type="fixed">[m
[32m+[m[32m        <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[32m+[m[32m        <parent link="${name}_2_link"/>[m
[32m+[m[32m        <child link="${name}_3_link" />[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:unless>[m
[32m+[m[32m    <xacro:if value="${dof3}">[m
[32m+[m[32m      <joint name="${name}_3_joint" type="revolute">[m
[32m+[m[32m        <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[32m+[m[32m        <parent link="${name}_2_link"/>[m
[32m+[m[32m        <child link="${name}_3_link" />[m
[32m+[m[32m        <axis xyz="0 0 1" />[m
[32m+[m[32m        <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[32m+[m[32m      </joint>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m
[32m+[m[32m    <link name="${name}_3_link">[m
[32m+[m[32m      <xacro:default_inertial/>[m
[32m+[m[32m<!--[m
[32m+[m[32m      <xacro:cylinder_inertial radius="0.250" length="0.610" mass="23.8">[m
[32m+[m[32m        <origin xyz="-0.028 0.005 0.233" rpy="0 0 0" />[m
[32m+[m[32m      </xacro:cylinder_inertial>[m
[32m+[m[32m-->[m
[32m+[m[32m      <visual>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link.dae"/>[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </visual>[m
[32m+[m[32m      <collision>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link_collision.stl"/>[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <joint name="${name}_center_joint" type="fixed">[m
[32m+[m[32m      <origin xyz="0.0 0.0 0.18566" rpy="0 0 0" />[m
[32m+[m[32m      <parent link="${name}_3_link"/>[m
[32m+[m[32m      <child link="${name}_center_link" />[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}_center_link">[m
[32m+[m[32m      <xacro:default_inertial/>[m
[32m+[m[32m      <visual>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </visual>[m
[32m+[m[32m      <collision>[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.001 0.001 0.001" />[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <!-- extensions -->[m
[32m+[m[32m    <xacro:torso_gazebo name="${name}" />[m
[32m+[m[32m    <xacro:torso_transmission name="${name}" dof1="${dof1}" dof2="${dof2}" dof3="${dof3}" />[m
[32m+[m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <xacro:if value="${(dof1 == 'true') or (dof2 == 'true') or (dof3 == 'true')}">[m
[32m+[m[32m      <gazebo>[m
[32m+[m[32m        <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m          <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m          <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m        </plugin>[m
[32m+[m[32m      </gazebo>[m
[32m+[m[32m    </xacro:if>[m
[32m+[m
[32m+[m[32m  </xacro:macro>[m
[32m+[m
[32m+[m[32m</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso_2dof.urdf.xacro b/cob_description/urdf/cob4_torso/torso_2dof.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex fa12d56..0000000[m
[1m--- a/cob_description/urdf/cob4_torso/torso_2dof.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,167 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/softkinetic.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-       <xacro:cylinder_inertial radius="0.300" length="0.046" mass="5.0">[m
[31m-        <origin xyz="0.03 0.08 0.01" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_1_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:hollow_spherical_cap_inertial r="0.295" h="0.075" t="0.010" mass="6">[m
[31m-        <origin xyz="0 0 ${0.075/2}" rpy="0 0 0"/>[m
[31m-      </xacro:hollow_spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="revolute">[m
[31m-      <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:spherical_cap_inertial r="0.295" h="0.075" mass="19.5">[m
[31m-        <origin xyz="0.034 0.102 0.092" rpy="0.5236 0 0"/>[m
[31m-      </xacro:spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.610" mass="23.8">[m
[31m-        <origin xyz="-0.028 0.005 0.233" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link.dae"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_center_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.18566" rpy="0 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_center_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_center_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_left" ros_topic="torso_cam3d_left" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_left_x} ${torso_cam3d_left_y} ${torso_cam3d_left_z}" rpy="${torso_cam3d_left_roll} ${torso_cam3d_left_pitch} ${torso_cam3d_left_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- right camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_right" ros_topic="torso_cam3d_right" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_right_x} ${torso_cam3d_right_y} ${torso_cam3d_right_z}" rpy="${torso_cam3d_right_roll} ${torso_cam3d_right_pitch} ${torso_cam3d_right_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- down camera -->[m
[31m-    <xacro:softkinetic name="${name}_cam3d_down" ros_topic="torso_cam3d_down" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_down_x} ${torso_cam3d_down_y} ${torso_cam3d_down_z}" rpy="${torso_cam3d_down_roll} ${torso_cam3d_down_pitch} ${torso_cam3d_down_yaw}" />[m
[31m-    </xacro:softkinetic>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="torso" />[m
[31m-    <xacro:torso_transmission name="torso" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso_2dof_realsense.urdf.xacro b/cob_description/urdf/cob4_torso/torso_2dof_realsense.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 51fea29..0000000[m
[1m--- a/cob_description/urdf/cob4_torso/torso_2dof_realsense.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,167 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/realsense.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-       <xacro:cylinder_inertial radius="0.300" length="0.046" mass="5.0">[m
[31m-        <origin xyz="0.03 0.08 0.01" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_1_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:hollow_spherical_cap_inertial r="0.295" h="0.075" t="0.010" mass="6">[m
[31m-        <origin xyz="0 0 ${0.075/2}" rpy="0 0 0"/>[m
[31m-      </xacro:hollow_spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="revolute">[m
[31m-      <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:spherical_cap_inertial r="0.295" h="0.075" mass="19.5">[m
[31m-        <origin xyz="0.034 0.102 0.092" rpy="0.5236 0 0"/>[m
[31m-      </xacro:spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.610" mass="23.8">[m
[31m-        <origin xyz="-0.028 0.005 0.233" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link.dae"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_center_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.18566" rpy="0 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_center_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_center_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_left" ros_topic="torso_cam3d_left" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_left_x} ${torso_cam3d_left_y} ${torso_cam3d_left_z}" rpy="${torso_cam3d_left_roll} ${torso_cam3d_left_pitch} ${torso_cam3d_left_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- right camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_right" ros_topic="torso_cam3d_right" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_right_x} ${torso_cam3d_right_y} ${torso_cam3d_right_z}" rpy="${torso_cam3d_right_roll} ${torso_cam3d_right_pitch} ${torso_cam3d_right_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- down camera -->[m
[31m-    <xacro:realsense name="${name}_cam3d_down" ros_topic="torso_cam3d_down" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_down_x} ${torso_cam3d_down_y} ${torso_cam3d_down_z}" rpy="${torso_cam3d_down_roll} ${torso_cam3d_down_pitch} ${torso_cam3d_down_yaw}" />[m
[31m-    </xacro:realsense>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="torso" />[m
[31m-    <xacro:torso_transmission name="torso" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso_3dof.urdf.xacro b/cob_description/urdf/cob4_torso/torso_3dof.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 0be3d9e..0000000[m
[1m--- a/cob_description/urdf/cob4_torso/torso_3dof.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,169 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/softkinetic.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-       <xacro:cylinder_inertial radius="0.300" length="0.046" mass="5.0">[m
[31m-        <origin xyz="0.03 0.08 0.01" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_1_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:hollow_spherical_cap_inertial r="0.295" h="0.075" t="0.010" mass="6">[m
[31m-        <origin xyz="0 0 ${0.075/2}" rpy="0 0 0"/>[m
[31m-      </xacro:hollow_spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="revolute">[m
[31m-      <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:spherical_cap_inertial r="0.295" h="0.075" mass="19.5">[m
[31m-        <origin xyz="0.034 0.102 0.092" rpy="0.5236 0 0"/>[m
[31m-      </xacro:spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" lower="-6.2831" upper="6.2831" velocity="1.4"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.610" mass="23.8">[m
[31m-        <origin xyz="-0.028 0.005 0.233" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link.dae"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_center_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.18566" rpy="0 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_center_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_center_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_left" ros_topic="torso_cam3d_left" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_left_x} ${torso_cam3d_left_y} ${torso_cam3d_left_z}" rpy="${torso_cam3d_left_roll} ${torso_cam3d_left_pitch} ${torso_cam3d_left_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- right camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_right" ros_topic="torso_cam3d_right" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_right_x} ${torso_cam3d_right_y} ${torso_cam3d_right_z}" rpy="${torso_cam3d_right_roll} ${torso_cam3d_right_pitch} ${torso_cam3d_right_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- down camera -->[m
[31m-    <xacro:softkinetic name="${name}_cam3d_down" ros_topic="torso_cam3d_down" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_down_x} ${torso_cam3d_down_y} ${torso_cam3d_down_z}" rpy="${torso_cam3d_down_roll} ${torso_cam3d_down_pitch} ${torso_cam3d_down_yaw}" />[m
[31m-    </xacro:softkinetic>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="torso" />[m
[31m-    <xacro:torso_transmission name="torso" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso_static.urdf.xacro b/cob_description/urdf/cob4_torso/torso_static.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex b12708e..0000000[m
[1m--- a/cob_description/urdf/cob4_torso/torso_static.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,163 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/softkinetic.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-       <xacro:cylinder_inertial radius="0.300" length="0.046" mass="5.0">[m
[31m-        <origin xyz="0.03 0.08 0.01" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_1_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:hollow_spherical_cap_inertial r="0.295" h="0.075" t="0.010" mass="6">[m
[31m-        <origin xyz="0 0 ${0.075/2}" rpy="0 0 0"/>[m
[31m-      </xacro:hollow_spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="fixed">[m
[31m-      <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:spherical_cap_inertial r="0.295" h="0.075" mass="19.5">[m
[31m-        <origin xyz="0.034 0.102 0.092" rpy="0.5236 0 0"/>[m
[31m-      </xacro:spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="fixed">[m
[31m-      <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.610" mass="23.8">[m
[31m-        <origin xyz="-0.028 0.005 0.233" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link.dae"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_center_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.18566" rpy="0 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_center_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_center_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_left" ros_topic="torso_cam3d_left" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_left_x} ${torso_cam3d_left_y} ${torso_cam3d_left_z}" rpy="${torso_cam3d_left_roll} ${torso_cam3d_left_pitch} ${torso_cam3d_left_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- right camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_right" ros_topic="torso_cam3d_right" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_right_x} ${torso_cam3d_right_y} ${torso_cam3d_right_z}" rpy="${torso_cam3d_right_roll} ${torso_cam3d_right_pitch} ${torso_cam3d_right_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- down camera -->[m
[31m-    <xacro:softkinetic name="${name}_cam3d_down" ros_topic="torso_cam3d_down" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_down_x} ${torso_cam3d_down_y} ${torso_cam3d_down_z}" rpy="${torso_cam3d_down_roll} ${torso_cam3d_down_pitch} ${torso_cam3d_down_yaw}" />[m
[31m-    </xacro:softkinetic>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="torso" />[m
[31m-    <xacro:torso_transmission name="torso" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/cob4_torso/torso_static_realsense.urdf.xacro b/cob_description/urdf/cob4_torso/torso_static_realsense.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 69f66c0..0000000[m
[1m--- a/cob_description/urdf/cob4_torso/torso_static_realsense.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,163 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/cob4_torso/torso.transmission.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/realsense.urdf.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="torso" params="parent name *origin">[m
[31m-[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-       <xacro:cylinder_inertial radius="0.300" length="0.046" mass="5.0">[m
[31m-        <origin xyz="0.03 0.08 0.01" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_1_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0.04642" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_1_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:hollow_spherical_cap_inertial r="0.295" h="0.075" t="0.010" mass="6">[m
[31m-        <origin xyz="0 0 ${0.075/2}" rpy="0 0 0"/>[m
[31m-      </xacro:hollow_spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_2_joint" type="fixed">[m
[31m-      <origin xyz="0 0.14734 0.07547" rpy="0.5236 0 0" />[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:spherical_cap_inertial r="0.295" h="0.075" mass="19.5">[m
[31m-        <origin xyz="0.034 0.102 0.092" rpy="0.5236 0 0"/>[m
[31m-      </xacro:spherical_cap_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_3_joint" type="fixed">[m
[31m-      <origin xyz="0 -0.09228 0.13477" rpy="-0.5236 0 0" />[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-<!--[m
[31m-      <xacro:cylinder_inertial radius="0.250" length="0.610" mass="23.8">[m
[31m-        <origin xyz="-0.028 0.005 0.233" rpy="0 0 0" />[m
[31m-      </xacro:cylinder_inertial>[m
[31m--->[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link.dae"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/cob4_torso/torso_link_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <joint name="${name}_center_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.18566" rpy="0 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_center_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_center_link">[m
[31m-      <xacro:default_inertial/>[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.001 0.001 0.001" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-[m
[31m-    <!-- left camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_left" ros_topic="torso_cam3d_left" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_left_x} ${torso_cam3d_left_y} ${torso_cam3d_left_z}" rpy="${torso_cam3d_left_roll} ${torso_cam3d_left_pitch} ${torso_cam3d_left_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- right camera -->[m
[31m-    <xacro:cob_kinect_v0 name="${name}_cam3d_right" ros_topic="torso_cam3d_right" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_right_x} ${torso_cam3d_right_y} ${torso_cam3d_right_z}" rpy="${torso_cam3d_right_roll} ${torso_cam3d_right_pitch} ${torso_cam3d_right_yaw}" />[m
[31m-    </xacro:cob_kinect_v0>[m
[31m-[m
[31m-    <!-- down camera -->[m
[31m-    <xacro:realsense name="${name}_cam3d_down" ros_topic="torso_cam3d_down" parent="${name}_3_link">[m
[31m-      <origin xyz="${torso_cam3d_down_x} ${torso_cam3d_down_y} ${torso_cam3d_down_z}" rpy="${torso_cam3d_down_roll} ${torso_cam3d_down_pitch} ${torso_cam3d_down_yaw}" />[m
[31m-    </xacro:realsense>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:torso_gazebo name="torso" />[m
[31m-    <xacro:torso_transmission name="torso" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/common.xacro b/cob_description/urdf/common.xacro[m
[1mindex d2dc8f4..a16c7d9 100644[m
[1m--- a/cob_description/urdf/common.xacro[m
[1m+++ b/cob_description/urdf/common.xacro[m
[36m@@ -1,7 +1,7 @@[m
 <?xml version="1.0"?>[m
 <robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
 [m
[31m-  <property name="M_PI" value="3.1415926535897931" />[m
[32m+[m[32m  <xacro:property name="M_PI" value="3.1415926535897931" />[m
 [m
   <!-- geometry macros for modeling geometric primitives with according meshes -->[m
   <xacro:macro name="sphere_geometry" params="radius">[m
[36m@@ -26,7 +26,7 @@[m
   <xacro:macro name="sphere_inertial" params="radius mass *origin">[m
     <inertial>[m
       <mass value="${mass}" />[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <inertia ixx="${0.4 * mass * radius * radius}" ixy="0.0" ixz="0.0"[m
         iyy="${0.4 * mass * radius * radius}" iyz="0.0"[m
         izz="${0.4 * mass * radius * radius}" />[m
[36m@@ -36,7 +36,7 @@[m
   <xacro:macro name="cylinder_inertial" params="radius length mass *origin">[m
     <inertial>[m
       <mass value="${mass}" />[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <inertia ixx="${0.0833333 * mass * (3 * radius * radius + length * length)}" ixy="0.0" ixz="0.0"[m
         iyy="${0.0833333 * mass * (3 * radius * radius + length * length)}" iyz="0.0"[m
         izz="${0.5 * mass * radius * radius}" />[m
[36m@@ -46,7 +46,7 @@[m
   <xacro:macro name="box_inertial" params="x y z mass *origin">[m
     <inertial>[m
       <mass value="${mass}" />[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <inertia ixx="${0.0833333 * mass * (y*y + z*z)}" ixy="0.0" ixz="0.0"[m
         iyy="${0.0833333 * mass * (x*x + z*z)}" iyz="0.0"[m
         izz="${0.0833333 * mass * (x*x + y*y)}" />[m
[36m@@ -56,7 +56,7 @@[m
   <xacro:macro name="spherical_cap_inertial" params="r h mass *origin">[m
     <inertial>[m
       <mass value="${mass}" />[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <inertia ixx="${(-3*h*h*h/20+3*h*h*r/4-4*h*r*r/3+r*r*r)*3*mass/(3*r-h)+(3/4*(h-2*r)*(h-2*r)/(3*r-h))*(3/4*(h-2*r)*(h-2*r)/(3*r-h))}" ixy="0.0" ixz="0.0"[m
         iyy="${(-3*h*h*h/20+3*h*h*r/4-4*h*r*r/3+r*r*r)*3*mass/(3*r-h)+(3/4*(h-2*r)*(h-2*r)/(3*r-h))*(3/4*(h-2*r)*(h-2*r)/(3*r-h))}" iyz="0.0"[m
         izz="${mass*h/(10*(3*r-h))*(3*h*h-15*h*r+20*r*r)}" />[m
[36m@@ -67,7 +67,7 @@[m
   <xacro:macro name="hollow_spherical_cap_inertial" params="r h t mass *origin">[m
     <inertial>[m
       <mass value="${mass}" />[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <inertia ixx="${mass/20*(20*h*h*h*r-10*h*h*h*t-60*h*h*r*r+30*h*h*r*t+120*h*r*r*r-120*h*r*r*t+60*h*r*t*t-15*h*t*t*t-60*r*r*r*t+100*r*r*t*t-65*r*t*t*t+16*t*t*t*t)/(2*t*t*-3*r*t-3*h*t+6*h*r)+(3/4*(t-2*r)*(2*r*r-4*r*r+2*r*t-t*t)/(6*r*r-3*r*t-3*r*t+2*t*t))*(3/4*(t-2*r)*(2*r*r-4*r*r+2*r*t-t*t)/(6*r*r-3*r*t-3*r*t+2*t*t))}" ixy="0.0" ixz="0.0"[m
         iyy="${mass/20*(20*h*h*h*r-10*h*h*h*t-60*h*h*r*r+30*h*h*r*t+120*h*r*r*r-120*h*r*r*t+60*h*r*t*t-15*h*t*t*t-60*r*r*r*t+100*r*r*t*t-65*r*t*t*t+16*t*t*t*t)/(2*t*t*-3*r*t-3*h*t+6*h*r)+(3/4*(t-2*r)*(2*r*r-4*r*r+2*r*t-t*t)/(6*r*r-3*r*t-3*r*t+2*t*t))*(3/4*(t-2*r)*(2*r*r-4*r*r+2*r*t-t*t)/(6*r*r-3*r*t-3*r*t+2*t*t))}" iyz="0.0"[m
         izz="${mass/(10*(2*t*t-3*r*t-3*h*t+6*h*r))*(-20*h*h*h*r+10*h*h*h*t+60*h*h*r*r-30*h*h*r*t-60*h*r*r*t+60*h*r*t*t-15*h*t*t*t+20*r*r*t*t-25*r*t*t*t+8*t*t*t*t)}" />[m
[36m@@ -82,4 +82,18 @@[m
     </inertial>[m
   </xacro:macro>[m
 [m
[32m+[m[32m  <xacro:macro name="default_transmission" params="jname">[m
[32m+[m[32m    <transmission name="${jname}_trans">[m
[32m+[m[32m      <type>transmission_interface/SimpleTransmission</type>[m
[32m+[m[32m      <joint name="${jname}_joint">[m
[32m+[m[32m        <hardwareInterface>PositionJointInterface</hardwareInterface>[m
[32m+[m[32m        <hardwareInterface>VelocityJointInterface</hardwareInterface>[m
[32m+[m[32m        <!--hardwareInterface>EffortJointInterface</hardwareInterface-->[m
[32m+[m[32m      </joint>[m
[32m+[m[32m      <actuator name="${jname}_motor">[m
[32m+[m[32m        <mechanicalReduction>1</mechanicalReduction>[m
[32m+[m[32m      </actuator>[m
[32m+[m[32m    </transmission>[m
[32m+[m[32m  </xacro:macro>[m
[32m+[m
 </robot>[m
[1mdiff --git a/cob_description/urdf/drive_wheel/drive_wheel.urdf.xacro b/cob_description/urdf/drive_wheel/drive_wheel.urdf.xacro[m
[1mindex cf93346..e07019c 100644[m
[1m--- a/cob_description/urdf/drive_wheel/drive_wheel.urdf.xacro[m
[1m+++ b/cob_description/urdf/drive_wheel/drive_wheel.urdf.xacro[m
[36m@@ -4,20 +4,20 @@[m
   <xacro:include filename="$(find cob_description)/urdf/drive_wheel/drive_wheel.gazebo.xacro" />[m
   <xacro:include filename="$(find cob_description)/urdf/drive_wheel/drive_wheel.transmission.xacro" />[m
 [m
[31m-  <property name="caster_wheel_offset_y" value="0.0" />[m
[32m+[m[32m  <xacro:property name="caster_wheel_offset_y" value="0.0" />[m
 [m
[31m-  <property name="caster_mass" value="5.9" />[m
[31m-  <property name="wheel_mass" value="0.44036" />[m
[32m+[m[32m  <xacro:property name="caster_mass" value="5.9" />[m
[32m+[m[32m  <xacro:property name="wheel_mass" value="0.44036" />[m
 [m
[31m-  <xacro:macro name="cob_wheel" params="parent suffix reflect">[m
[32m+[m[32m  <xacro:macro name="cob_wheel" params="parent suffix reflect drive_vel:=^">[m
 [m
     <joint name="${parent}_${suffix}_wheel_joint" type="continuous">[m
       <origin xyz="0 ${reflect*caster_wheel_offset_y} 0" rpy="0 0 0" />[m
       <parent link="${parent}_rotation_link"/>[m
       <child link="${parent}_${suffix}_wheel_link"/>[m
       <axis xyz="0 1 0" />[m
[31m-      <limit effort="100" velocity="100"/> <!-- alpha tested effort and velocity limits -->[m
       <safety_controller  k_velocity="10" />[m
[32m+[m[32m      <limit effort="100" velocity="${drive_vel}"/>[m
       <dynamics damping="0.0" friction="0.0" />[m
     </joint>[m
 [m
[36m@@ -47,15 +47,15 @@[m
   </xacro:macro>[m
 [m
   <!-- Macro for Caster hub only -->[m
[31m-  <xacro:macro name="cob_caster_hub" params="*origin parent suffix" >[m
[32m+[m[32m  <xacro:macro name="cob_caster_hub" params="*origin parent suffix steer_vel:=^" >[m
 [m
     <joint name="${suffix}_rotation_joint" type="continuous">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${suffix}_rotation_link" />[m
       <axis xyz="0 0 1" />[m
[31m-      <limit effort="100" velocity="100"/> <!-- alpha tested velocity and effort limits -->[m
       <safety_controller  k_velocity="10" />[m
[32m+[m[32m      <limit effort="100" velocity="${steer_vel}"/>[m
       <dynamics damping="0.0" friction="0.0" />[m
     </joint>[m
 [m
[36m@@ -85,18 +85,16 @@[m
   </xacro:macro>[m
 [m
 [m
[31m-[m
[31m-  <xacro:macro name="drive_wheel" params="*origin parent suffix">[m
[32m+[m[32m  <xacro:macro name="drive_wheel" params="*origin parent suffix drive_vel:=^|100 steer_vel:=^|100">[m
 [m
     <xacro:cob_caster_hub parent="${parent}" suffix="${suffix}_caster" >[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
     </xacro:cob_caster_hub>[m
 [m
     <xacro:cob_wheel parent="${suffix}_caster" suffix="r" reflect="-1" />[m
 [m
     <!-- extensions -->[m
     <xacro:cob_caster_gazebo suffix="${suffix}" />[m
[31m-[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/cob_description/urdf/lbr/lbr.gazebo.xacro b/cob_description/urdf/lbr/lbr.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 2b26e06..0000000[m
[1m--- a/cob_description/urdf/lbr/lbr.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,56 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="lbr_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_0_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_1_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_2_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_3_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_4_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_5_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_6_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_7_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/Orange</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/lbr/lbr.transmission.xacro b/cob_description/urdf/lbr/lbr.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex ab56759..0000000[m
[1m--- a/cob_description/urdf/lbr/lbr.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,78 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="lbr_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_1_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_1_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_1_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_2_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_2_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_2_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_3_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_3_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_3_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_4_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_4_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_4_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_5_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_5_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_5_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_6_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_6_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_6_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-    <transmission name="${name}_7_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_7_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_7_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/lbr/lbr.urdf.xacro b/cob_description/urdf/lbr/lbr.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex a319762..0000000[m
[1m--- a/cob_description/urdf/lbr/lbr.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,290 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/lbr/lbr.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/lbr/lbr.transmission.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="lbr" params="parent name *origin">[m
[31m-[m
[31m-    <!-- joint between base_link and arm_0_link -->[m
[31m-    <joint name="${name}_0_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}" />[m
[31m-      <child link="${name}_0_link" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_0_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 -0.07" rpy="0 0 0"/>[m
[31m-        <mass value="1.0"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 -0.07" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <cylinder radius="0.060" length="0.14"/>[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 -0.07" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <cylinder radius="0.060" length="0.14"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_0_link and arm_1_link -->[m
[31m-    <joint name="${name}_1_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0.0" rpy="0 0 -2.8407"/>[m
[31m-      <parent link="${name}_0_link"/>[m
[31m-      <child link="${name}_1_link"/>[m
[31m-      <axis xyz="0 0 1"/>[m
[31m-      <dynamics damping="10" />[m
[31m-      <limit effort="200" velocity="1.9634" lower="-2.9670" upper="2.9670"/>[m
[31m-      <safety_controller k_position="20" k_velocity="50" soft_lower_limit="${-2.9670 + 0.01}" soft_upper_limit="${2.9670 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_1_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <!--mass value="5.9907"/-->[m
[31m-        <mass value="2.0"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_1.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_1_collision.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_1_link and arm_2_link -->[m
[31m-    <joint name="${name}_2_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.002 0.1915" rpy="${M_PI/2} 0 0"/>[m
[31m-      <parent link="${name}_1_link"/>[m
[31m-      <child link="${name}_2_link"/>[m
[31m-      <axis xyz="0 0 1"/>[m
[31m-      <dynamics damping="10" />[m
[31m-      <limit effort="200" velocity="1.9634" lower="-2.0943" upper="2.0943"/>[m
[31m-      <safety_controller k_position="20" k_velocity="50" soft_lower_limit="${-2.0943 + 0.01}"   soft_upper_limit="${2.0943 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_2_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <!--mass value="5.734939"/-->[m
[31m-        <mass value="2.0"/>[m
[31m-        <inertia ixx="0.03" ixy="0" ixz="0" iyy="0.03" iyz="0" izz="0.03" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_2.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_2_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_2_link and arm_3_link -->[m
[31m-    <joint name="${name}_3_joint" type="revolute">[m
[31m-      <origin xyz="0 0.2085 0" rpy="-${M_PI/2} 0 0"/>[m
[31m-      <parent link="${name}_2_link"/>[m
[31m-      <child link="${name}_3_link"/>[m
[31m-      <axis xyz="0 0 1"/>[m
[31m-      <dynamics damping="5" />[m
[31m-      <limit effort="100" velocity="1.9634" lower="-2.9670" upper="2.9670"/>[m
[31m-      <safety_controller k_position="20" k_velocity="25" soft_lower_limit="${-2.9670 + 0.01}" soft_upper_limit="${2.9670 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_3_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <!--mass value="4.214668"/-->[m
[31m-        <mass value="2.0"/>[m
[31m-        <inertia ixx="0.03" ixy="0" ixz="0" iyy="0.03" iyz="0" izz="0.03" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_3.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_3_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_3_link and arm_4_link -->[m
[31m-    <joint name="${name}_4_joint" type="revolute">[m
[31m-      <origin xyz="0 0.002 0.1915" rpy="-${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_3_link"/>[m
[31m-      <child link="${name}_4_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5" />[m
[31m-      <limit effort="100" velocity="1.9634" lower="-2.0943" upper="2.0943"/>[m
[31m-      <!--limit effort="176" velocity="0.4189" upper="2.0943951" lower="-2.0943951"/-->[m
[31m-      <safety_controller k_position="20" k_velocity="25" soft_lower_limit="${-2.0943 + 0.01}" soft_upper_limit="${2.0943 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_4_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <!--mass value="3.669819"/-->[m
[31m-        <mass value="2.0"/>[m
[31m-        <inertia ixx="0.03" ixy="0" ixz="0" iyy="0.03" iyz="0" izz="0.03" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_4.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_4_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_4_link and arm_5_link -->[m
[31m-    <joint name="${name}_5_joint" type="revolute">[m
[31m-      <origin xyz="0 -0.2085 0" rpy="${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_4_link"/>[m
[31m-      <child link="${name}_5_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5" />[m
[31m-      <limit effort="100" velocity="1.9634" lower="-2.9670" upper="2.9670" />[m
[31m-      <safety_controller k_position="20" k_velocity="25" soft_lower_limit="${-2.9670 + 0.01}" soft_upper_limit="${2.9670 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_5_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="2.313272"/>[m
[31m-        <inertia ixx="0.03" ixy="0" ixz="0" iyy="0.03" iyz="0" izz="0.03" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_5.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_5_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_5_link and arm_6_link -->[m
[31m-    <joint name="${name}_6_joint" type="revolute">[m
[31m-      <origin xyz="0 0.046 0.1815" rpy="${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_5_link"/>[m
[31m-      <child link="${name}_6_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5" />[m
[31m-      <limit effort="30" velocity="1.9634" lower="-2.0943951" upper="2.0943951" />[m
[31m-      <!--limit effort="20.1" velocity="0.4363" upper="2.0943951" lower="-2.0943951" /-->[m
[31m-      <safety_controller k_position="20" k_velocity="25" soft_lower_limit="${-2.0943951 + 0.01}" soft_upper_limit="${2.0943951 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_6_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="2.057856"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_6.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_6_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between arm_6_link and arm_7_link -->[m
[31m-    <joint name="${name}_7_joint" type="revolute">[m
[31m-      <origin xyz="0 0.057 0.0455" rpy="-${M_PI/2} 0 0" />[m
[31m-      <parent link="${name}_6_link"/>[m
[31m-      <child link="${name}_7_link"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="5" />[m
[31m-      <limit effort="30" velocity="1.9634" lower="-2.9670" upper="2.9670" />[m
[31m-      <!--limit effort="20.1" velocity="0.4363" upper="2.0943951" lower="-2.0943951" /-->[m
[31m-      <safety_controller k_position="20" k_velocity="25" soft_lower_limit="${-2.9670 + 0.01}" soft_upper_limit="${2.9670 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_7_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="1.120198"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_7.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Orange" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/lbr/joint_7_collision.stl"/>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:lbr_gazebo name="${name}" />[m
[31m-    <xacro:lbr_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/lookat/lookat.urdf.xacro b/cob_description/urdf/lookat/lookat.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex e864c56..0000000[m
[1m--- a/cob_description/urdf/lookat/lookat.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,71 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="lookat" params="name parent *origin *axis lower upper">[m
[31m-[m
[31m-    <!-- joint between torso_upper_neck_tilt_link and lookat_base_link -->[m
[31m-    <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_base_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_base_link"/>[m
[31m-[m
[31m-    <joint name="${name}_lin_joint" type="prismatic">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_base_link"/>[m
[31m-      <child link="${name}_x_link"/>[m
[31m-      <insert_block name="axis" />  <!--axis xyz="-1 0 0" /-->[m
[31m-      <dynamics damping="0.0" friction="0.0"/>[m
[31m-      <limit effort="100000" lower="${lower}" upper="${upper}" velocity="100000"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_x_link"/>[m
[31m-[m
[31m-    <joint name="${name}_x_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_x_link"/>[m
[31m-      <child link="${name}_y_link"/>[m
[31m-      <axis xyz="1 0 0" />[m
[31m-      <dynamics damping="0.0" friction="0.0"/>[m
[31m-      <limit effort="100000" lower="-${M_PI}" upper="${M_PI}" velocity="100000"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_y_link"/>[m
[31m-[m
[31m-    <joint name="${name}_y_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_y_link"/>[m
[31m-      <child link="${name}_z_link"/>[m
[31m-      <axis xyz="0 1 0" />[m
[31m-      <dynamics damping="0.0" friction="0.0"/>[m
[31m-      <limit effort="100000" lower="-${M_PI}" upper="${M_PI}" velocity="100000"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_z_link"/>[m
[31m-[m
[31m-    <joint name="${name}_z_joint" type="revolute">[m
[31m-      <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_z_link"/>[m
[31m-      <child link="${name}_focus_frame"/>[m
[31m-      <axis xyz="0 0 1" />[m
[31m-      <dynamics damping="0.0" friction="0.0"/>[m
[31m-      <limit effort="100000" lower="-${M_PI}" upper="${M_PI}" velocity="100000"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_focus_frame">[m
[31m-<!--[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <box size="0.05 0.05 0.2"/>[m
[31m-        </geometry>[m
[31m-        <material name="IPA/Black" />[m
[31m-      </visual>[m
[31m--->[m
[31m-    </link>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/sensors/hokuyo_lx30_laser.gazebo.xacro b/cob_description/urdf/sensors/hokuyo_lx30_laser.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 90c7677..0000000[m
[1m--- a/cob_description/urdf/sensors/hokuyo_lx30_laser.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,40 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="hokuyo_lx30_laser_gazebo_v0" params="name">[m
[31m-    <gazebo reference="${name}_link">[m
[31m-      <sensor name="${name}" type="ray">[m
[31m-        <always_on>true</always_on>[m
[31m-        <update_rate>10.0</update_rate>[m
[31m-        <pose>0 0 0 0 0 0</pose>[m
[31m-        <visualize>false</visualize>[m
[31m-        <ray>[m
[31m-          <scan>[m
[31m-            <horizontal>[m
[31m-              <samples>640</samples>[m
[31m-              <resolution>1.0</resolution>[m
[31m-              <min_angle>-2.3562</min_angle>[m
[31m-              <max_angle>2.3562</max_angle>[m
[31m-            </horizontal>[m
[31m-          </scan>[m
[31m-          <range>[m
[31m-            <min>0.05</min>[m
[31m-            <max>10.0</max>[m
[31m-            <resolution>0.01</resolution>[m
[31m-          </range>[m
[31m-          <noise>[m
[31m-            <type>gaussian</type>[m
[31m-            <mean>0.0</mean>[m
[31m-            <stddev>0.005</stddev>[m
[31m-          </noise>[m
[31m-        </ray>[m
[31m-        <plugin name="gazebo_ros_${name}_controller" filename="libgazebo_ros_laser.so">[m
[31m-          <topicName>${name}/scan_raw</topicName>[m
[31m-          <frameName>${name}_link</frameName>[m
[31m-        </plugin>[m
[31m-      </sensor>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/sensors/hokuyo_lx30_laser.urdf.xacro b/cob_description/urdf/sensors/hokuyo_lx30_laser.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 4f813d3..0000000[m
[1m--- a/cob_description/urdf/sensors/hokuyo_lx30_laser.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/hokuyo_lx30_laser.gazebo.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="hokuyo_lx30_laser_v0" params="name parent *origin">[m
[31m-    <joint name="${name}_joint" type="fixed">[m
[31m-      <axis xyz="0 1 0" />[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}_link"/>[m
[31m-      <child link="${name}_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link" type="laser"/>[m
[31m-[m
[31m-    <!-- gazebo extensions -->[m
[31m-    <xacro:hokuyo_lx30_laser_gazebo_v0 name="${name}"/>[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/sensors/kinect.gazebo.xacro b/cob_description/urdf/sensors/kinect.gazebo.xacro[m
[1mindex 3cae2c8..8f0fc74 100644[m
[1m--- a/cob_description/urdf/sensors/kinect.gazebo.xacro[m
[1m+++ b/cob_description/urdf/sensors/kinect.gazebo.xacro[m
[36m@@ -1,17 +1,18 @@[m
 <?xml version="1.0"?>[m
 <root xmlns:xacro="http://www.ros.org/wiki/xacro">[m
 [m
[31m-  <xacro:macro name="cob_kinect_gazebo_v0" params="name ros_topic">[m
[32m+[m[32m  <xacro:macro name="cob_kinect_gazebo_v0" params="name ros_topic[m
[32m+[m[32m                                                   update_rate:=20 data_skip:=0 height:=480 width:=640">[m
     <gazebo reference="${name}_frame">[m
       <sensor type="depth" name="${name}_frame_sensor">[m
         <always_on>true</always_on>[m
[31m-        <update_rate>20.0</update_rate>[m
[32m+[m[32m        <update_rate>${update_rate/(data_skip+1)}</update_rate>[m
         <camera>[m
           <horizontal_fov>${62.0*M_PI/180.0}</horizontal_fov>[m
           <image>[m
             <format>R8G8B8</format>[m
[31m-            <width>640</width>[m
[31m-            <height>480</height>[m
[32m+[m[32m            <width>${height}</width>[m
[32m+[m[32m            <height>${width}</height>[m
           </image>[m
           <clip>[m
             <near>0.1</near>[m
[36m@@ -24,7 +25,7 @@[m
           </noise>[m
         </camera>[m
         <plugin name="${name}_controller" filename="libgazebo_ros_openni_kinect.so">[m
[31m-          <updateRate>20.0</updateRate>[m
[32m+[m[32m          <updateRate>${update_rate/(data_skip+1)}</updateRate>[m
           <cameraName>${ros_topic}</cameraName>[m
           <frameName>${name}_link</frameName>[m
           <imageTopicName>rgb/image_raw</imageTopicName>[m
[1mdiff --git a/cob_description/urdf/sensors/kinect.urdf.xacro b/cob_description/urdf/sensors/kinect.urdf.xacro[m
[1mindex f2c81b1..ffebadd 100644[m
[1m--- a/cob_description/urdf/sensors/kinect.urdf.xacro[m
[1m+++ b/cob_description/urdf/sensors/kinect.urdf.xacro[m
[36m@@ -3,9 +3,9 @@[m
 [m
   <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.gazebo.xacro" />[m
 [m
[31m-  <xacro:macro name="cob_kinect_v0" params="name parent *origin ros_topic">[m
[32m+[m[32m  <xacro:macro name="cob_kinect_v0" params="name parent *origin ros_topic update_rate:=20 data_skip:=0 height:=480 width:=640">[m
     <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_link"/>[m
     </joint>[m
[36m@@ -38,7 +38,11 @@[m
     <link name="${name}_frame"/>[m
 [m
     <!-- extensions -->[m
[31m-    <xacro:cob_kinect_gazebo_v0 name="${name}" ros_topic="${ros_topic}" />[m
[32m+[m[32m    <xacro:cob_kinect_gazebo_v0 name="${name}" ros_topic="${ros_topic}"[m
[32m+[m[41m    [m									[32m       update_rate="${update_rate}"[m
[32m+[m[41m    [m									[32m       data_skip="${data_skip}"[m
[32m+[m									[32m           height="${height}"[m
[32m+[m									[32m           width="${width}"/>[m
   </xacro:macro>[m
 [m
 </root>[m
[1mdiff --git a/cob_description/urdf/sensors/phidgets_distance.gazebo.xacro b/cob_description/urdf/sensors/phidgets_distance.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex 16fdc41..0000000[m
[1m--- a/cob_description/urdf/sensors/phidgets_distance.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,40 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="phidgets_distance_gazebo_v0" params="name ros_topic update_rate">[m
[31m-    <gazebo reference="${name}_link">[m
[31m-      <sensor name="${name}" type="ray">[m
[31m-        <always_on>true</always_on>[m
[31m-        <update_rate>${update_rate}</update_rate>[m
[31m-        <pose>0 0 0 0 0 0</pose>[m
[31m-        <visualize>false</visualize>[m
[31m-        <ray>[m
[31m-          <scan>[m
[31m-            <horizontal>[m
[31m-              <samples>10</samples>[m
[31m-              <resolution>1.0</resolution>[m
[31m-              <min_angle>-0.2</min_angle>[m
[31m-              <max_angle>0.2</max_angle>[m
[31m-            </horizontal>[m
[31m-          </scan>[m
[31m-          <range>[m
[31m-            <min>0.01</min>    <!-- real value from sensor datasheet is 0.04m -->[m
[31m-            <max>0.4</max>    <!-- real value from sensor datasheet is 0.30m -->[m
[31m-            <resolution>0.005</resolution>[m
[31m-          </range>[m
[31m-          <noise>[m
[31m-            <type>gaussian</type>[m
[31m-            <mean>0.0</mean>[m
[31m-            <stddev>0.005</stddev>[m
[31m-          </noise>[m
[31m-        </ray>[m
[31m-        <plugin name="gazebo_ros_${name}_controller" filename="libgazebo_ros_laser.so">[m
[31m-          <topicName>${ros_topic}</topicName>[m
[31m-          <frameName>/${name}_link</frameName>[m
[31m-        </plugin>[m
[31m-      </sensor>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/sensors/phidgets_distance.urdf.xacro b/cob_description/urdf/sensors/phidgets_distance.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 6377e91..0000000[m
[1m--- a/cob_description/urdf/sensors/phidgets_distance.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/phidgets_distance.gazebo.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="phidgets_distance_v0" params="name parent *origin ros_topic update_rate">[m
[31m-    <joint name="${name}_joint" type="fixed">[m
[31m-      <axis xyz="0 1 0" />[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}_link"/>[m
[31m-      <child link="${name}_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link"/>[m
[31m-[m
[31m-    <!-- gazebo extensions -->[m
[31m-    <xacro:phidgets_distance_gazebo_v0 name="${name}" ros_topic="${ros_topic}" update_rate="${update_rate}" />[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/sensors/prosilica.urdf.xacro b/cob_description/urdf/sensors/prosilica.urdf.xacro[m
[1mindex dfa51c4..2da7abd 100644[m
[1m--- a/cob_description/urdf/sensors/prosilica.urdf.xacro[m
[1m+++ b/cob_description/urdf/sensors/prosilica.urdf.xacro[m
[36m@@ -7,7 +7,7 @@[m
   <xacro:macro name="cob_prosilica_v0" params="name parent *origin ros_topic">[m
 [m
     <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_link"/>[m
     </joint>[m
[1mdiff --git a/cob_description/urdf/sensors/realsense.gazebo.xacro b/cob_description/urdf/sensors/realsense.gazebo.xacro[m
[1mindex 3fd6c60..25d1ccc 100644[m
[1m--- a/cob_description/urdf/sensors/realsense.gazebo.xacro[m
[1m+++ b/cob_description/urdf/sensors/realsense.gazebo.xacro[m
[36m@@ -1,17 +1,20 @@[m
 <?xml version="1.0"?>[m
 <robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
 [m
[31m-  <xacro:macro name="realsense_gazebo" params="name ros_topic">[m
[32m+[m[32m  <!-- use default values of realsense_camera/r200_nodelet_rgbd -->[m
[32m+[m[32m  <xacro:macro name="realsense_gazebo" params="name ros_topic[m
[32m+[m[32m                                               depth_fps:=30.0 depth_height:=360 depth_width:=480[m
[32m+[m[32m                                               color_fps:=30.0 color_height:=480 color_width:=640" >[m
     <gazebo reference="${name}_link">[m
       <sensor type="depth" name="${name}_depth_frame">[m
         <always_on>true</always_on>[m
[31m-        <update_rate>25.0</update_rate>[m
[32m+[m[32m        <update_rate>${color_fps}</update_rate>[m
         <camera>[m
           <horizontal_fov>${74.0*M_PI/180.0}</horizontal_fov>[m
           <image>[m
             <format>R8G8B8</format>[m
[31m-            <width>320</width>[m
[31m-            <height>240</height>[m
[32m+[m[32m            <width>${color_width}</width>[m
[32m+[m[32m            <height>${color_height}</height>[m
           </image>[m
           <clip>[m
             <near>0.15</near>[m
[36m@@ -24,7 +27,7 @@[m
           </noise>[m
         </camera>[m
         <plugin name="${name}_frame_controller" filename="libgazebo_ros_openni_kinect.so">[m
[31m-          <updateRate>25.0</updateRate>[m
[32m+[m[32m          <updateRate>${color_fps}</updateRate>[m
           <cameraName>${ros_topic}</cameraName>[m
           <frameName>${name}_rgb_optical_frame</frameName>[m
           <imageTopicName>rgb/image_raw</imageTopicName>[m
[1mdiff --git a/cob_description/urdf/sensors/realsense.urdf.xacro b/cob_description/urdf/sensors/realsense.urdf.xacro[m
[1mindex 834022e..47e4cbb 100644[m
[1m--- a/cob_description/urdf/sensors/realsense.urdf.xacro[m
[1m+++ b/cob_description/urdf/sensors/realsense.urdf.xacro[m
[36m@@ -6,7 +6,7 @@[m
   <xacro:macro name="realsense" params="name parent ros_topic *origin">[m
 [m
     <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_link"/>[m
     </joint>[m
[36m@@ -31,34 +31,6 @@[m
       </collision>[m
     </link>[m
 [m
[31m-    <!--joint name="${name}_rgb_joint" type="fixed">[m
[31m-      <origin xyz="0.0088 -0.1034 0.0483" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_link"/>[m
[31m-      <child link="${name}_rgb_frame" />[m
[31m-    </joint>[m
[31m-    <link name="${name}_rgb_frame"/>[m
[31m-[m
[31m-    <joint name="${name}_rgb_optical_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0" rpy="${-M_PI/2} 0 ${-M_PI/2}" />[m
[31m-      <parent link="${name}_rgb_frame" />[m
[31m-      <child link="${name}_rgb_optical_frame" />[m
[31m-    </joint>[m
[31m-    <link name="${name}_rgb_optical_frame"/>[m
[31m-[m
[31m-    <joint name="${name}_depth_joint" type="fixed">[m
[31m-      <origin xyz="0 0.0274 0" rpy="0 0 0" />[m
[31m-      <parent link="${name}_rgb_frame" />[m
[31m-      <child link="${name}_depth_frame" />[m
[31m-    </joint>[m
[31m-    <link name="${name}_depth_frame"/>[m
[31m-[m
[31m-    <joint name="${name}_depth_optical_joint" type="fixed">[m
[31m-      <origin xyz="0 0 0" rpy="${-M_PI/2} 0 ${-M_PI/2}" />[m
[31m-      <parent link="${name}_depth_frame" />[m
[31m-      <child link="${name}_depth_optical_frame" />[m
[31m-    </joint>[m
[31m-    <link name="${name}_depth_optical_frame"/-->[m
[31m-[m
     <!-- extensions -->[m
     <xacro:realsense_gazebo name="${name}" ros_topic="${ros_topic}" />[m
   </xacro:macro>[m
[1mdiff --git a/cob_description/urdf/sensors/sick_3dcs.urdf.xacro b/cob_description/urdf/sensors/sick_3dcs.urdf.xacro[m
[1mindex 4c525ab..af43709 100644[m
[1m--- a/cob_description/urdf/sensors/sick_3dcs.urdf.xacro[m
[1m+++ b/cob_description/urdf/sensors/sick_3dcs.urdf.xacro[m
[36m@@ -5,7 +5,7 @@[m
 [m
   <xacro:macro name="sick_3dcs" params="name parent ros_topic *origin">[m
     <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_link"/>[m
     </joint>[m
[1mdiff --git a/cob_description/urdf/sensors/sick_s300_laser.gazebo.xacro b/cob_description/urdf/sensors/sick_s300_laser.gazebo.xacro[m
[1mindex 1b993f3..9ac6a70 100644[m
[1m--- a/cob_description/urdf/sensors/sick_s300_laser.gazebo.xacro[m
[1m+++ b/cob_description/urdf/sensors/sick_s300_laser.gazebo.xacro[m
[36m@@ -25,7 +25,7 @@[m
           <noise>[m
             <type>gaussian</type>[m
             <mean>0.0</mean>[m
[31m-            <stddev>0.005</stddev>[m
[32m+[m[32m            <stddev>0.02</stddev>[m
           </noise>[m
         </ray>[m
         <plugin name="gazebo_ros_${name}_controller" filename="libgazebo_ros_laser.so">[m
[1mdiff --git a/cob_description/urdf/sensors/sick_s300_laser.urdf.xacro b/cob_description/urdf/sensors/sick_s300_laser.urdf.xacro[m
[1mindex c38de06..334fbb3 100644[m
[1m--- a/cob_description/urdf/sensors/sick_s300_laser.urdf.xacro[m
[1m+++ b/cob_description/urdf/sensors/sick_s300_laser.urdf.xacro[m
[36m@@ -3,13 +3,13 @@[m
 [m
   <xacro:include filename="$(find cob_description)/urdf/sensors/sick_s300_laser.gazebo.xacro" />[m
 [m
[31m-  <property name="cylinder_radius" value="0.05" />  <!--simple collision model for the laser -->[m
[31m-  <property name="cylinder_length" value="0.15" />[m
[32m+[m[32m  <xacro:property name="cylinder_radius" value="0.05" />  <!--simple collision model for the laser -->[m
[32m+[m[32m  <xacro:property name="cylinder_length" value="0.15" />[m
 [m
   <xacro:macro name="sick_s300_laser_v0" params="name parent *origin">[m
     <joint name="${name}_joint" type="fixed">[m
       <axis xyz="0 1 0" />[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}_link"/>[m
       <child link="${name}_link"/>[m
     </joint>[m
[1mdiff --git a/cob_description/urdf/sensors/softkinetic.gazebo.xacro b/cob_description/urdf/sensors/softkinetic.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex d45a2b9..0000000[m
[1m--- a/cob_description/urdf/sensors/softkinetic.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,53 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="softkinetic_gazebo" params="name ros_topic">[m
[31m-    <gazebo reference="${name}_frame">[m
[31m-      <sensor type="depth" name="${name}_frame_sensor">[m
[31m-        <always_on>true</always_on>[m
[31m-        <update_rate>25.0</update_rate>[m
[31m-        <camera>[m
[31m-          <horizontal_fov>${74.0*M_PI/180.0}</horizontal_fov>[m
[31m-          <image>[m
[31m-            <format>R8G8B8</format>[m
[31m-            <width>320</width>[m
[31m-            <height>240</height>[m
[31m-          </image>[m
[31m-          <clip>[m
[31m-            <near>0.15</near>[m
[31m-            <far>1.0</far>[m
[31m-          </clip>[m
[31m-          <noise>[m
[31m-            <type>gaussian</type>[m
[31m-            <mean>0.0</mean>[m
[31m-            <stddev>0.0</stddev>[m
[31m-          </noise>[m
[31m-        </camera>[m
[31m-        <plugin name="${name}_frame_controller" filename="libgazebo_ros_openni_kinect.so">[m
[31m-          <updateRate>25.0</updateRate>[m
[31m-          <cameraName>${ros_topic}</cameraName>[m
[31m-          <frameName>${name}_optical_frame</frameName>[m
[31m-          <imageTopicName>rgb/image_raw</imageTopicName>[m
[31m-          <cameraInfoTopicName>rgb/camera_info</cameraInfoTopicName>[m
[31m-          <pointCloudTopicName>depth_registered/points</pointCloudTopicName>[m
[31m-          <depthImageTopicName>depth_registered/image_raw</depthImageTopicName>[m
[31m-          <depthImageCameraInfoTopicName>depth_registered/camera_info</depthImageCameraInfoTopicName>[m
[31m-          <pointCloudCutoff>0.5</pointCloudCutoff>[m
[31m-          <pointCloudCutoffMax>5.0</pointCloudCutoffMax>[m
[31m-          <distortionK1>0.0</distortionK1>[m
[31m-          <distortionK2>0.0</distortionK2>[m
[31m-          <distortionK3>0.0</distortionK3>[m
[31m-          <distortionT1>0.0</distortionT1>[m
[31m-          <distortionT2>0.0</distortionT2>[m
[31m-          <CxPrime>0.0</CxPrime>[m
[31m-          <Cx>0.0</Cx>[m
[31m-          <Cy>0.0</Cy>[m
[31m-          <focalLength>0.0</focalLength>[m
[31m-        </plugin>[m
[31m-      </sensor>[m
[31m-      <material>IPA/LightGrey</material>[m
[31m-    </gazebo>[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[31m-[m
[1mdiff --git a/cob_description/urdf/sensors/softkinetic.urdf.xacro b/cob_description/urdf/sensors/softkinetic.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex c2721c9..0000000[m
[1m--- a/cob_description/urdf/sensors/softkinetic.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,69 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/softkinetic.gazebo.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="softkinetic" params="name parent ros_topic *origin">[m
[31m-    <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <xacro:box_inertial x="0.105" y="0.03" z="0.023" mass="0.5">[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-      </xacro:box_inertial>[m
[31m-      <visual>[m
[31m-        <origin xyz="0.0 0.0 0" rpy="0 0 0"/>[m
[31m-        <geometry>[m
[31m-          <box size="0.002 0.002 0.002"/>[m
[31m-        </geometry>[m
[31m-      </visual>[m
[31m-      <collision>[m
[31m-        <origin xyz="0.0 0.0 0" rpy="0 0 0"/>[m
[31m-        <geometry>[m
[31m-          <box size="0.002 0.002 0.002"/>>[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- Add frames for RGB and depth optical axes -->[m
[31m-    <joint name="${name}_rgb_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0125 0.0" rpy="${-M_PI/2} ${-M_PI/2} 0.0"/>[m
[31m-      <parent link="${name}_link"/>[m
[31m-      <child link="${name}_rgb_frame"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_rgb_frame"/>[m
[31m-[m
[31m-    <joint name="${name}_rgb_optical_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.0" rpy="${-M_PI/2} 0.0 ${-M_PI/2}"/>[m
[31m-      <parent link="${name}_rgb_frame"/>[m
[31m-      <child link="${name}_rgb_optical_frame"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_rgb_optical_frame"/>[m
[31m-    [m
[31m-    <joint name="${name}_depth_joint" type="fixed">[m
[31m-      <origin xyz="0.0 -0.0125 0.0" rpy="${-M_PI/2} ${-M_PI/2} 0.0"/>[m
[31m-      <parent link="${name}_link"/>[m
[31m-      <child link="${name}_depth_frame"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_depth_frame"/>[m
[31m-[m
[31m-    <joint name="${name}_depth_optical_joint" type="fixed">[m
[31m-      <origin xyz="0.0 0.0 0.0" rpy="${-M_PI/2} 0.0 ${-M_PI/2}"/>[m
[31m-      <parent link="${name}_depth_frame"/>[m
[31m-      <child link="${name}_depth_optical_frame"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_depth_optical_frame"/>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:softkinetic_gazebo name="${name}" ros_topic="${ros_topic}" />[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[31m-[m
[1mdiff --git a/cob_description/urdf/sensors/usb_cam.gazebo.xacro b/cob_description/urdf/sensors/usb_cam.gazebo.xacro[m
[1mnew file mode 100644[m
[1mindex 0000000..6187528[m
[1m--- /dev/null[m
[1m+++ b/cob_description/urdf/sensors/usb_cam.gazebo.xacro[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32m<?xml version="1.0"?>[m
[32m+[m[32m<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[32m+[m
[32m+[m[32m  <!-- at 2048x1536 3.6hz is maximum on hw -->[m
[32m+[m[32m  <xacro:macro name="usb_cam_gazebo" params="name ros_topic update_rate:=3.5 height:=1536 width:=2048" >[m
[32m+[m[32m    <gazebo reference="${name}_frame">[m
[32m+[m
[32m+[m[32m    <sensor type="camera" name="${name}">[m
[32m+[m[32m      <update_rate>${update_rate}</update_rate>[m
[32m+[m[32m      <camera name="${name}">[m
[32m+[m[32m        <horizontal_fov>${170.0*M_PI/180.0}</horizontal_fov>[m
[32m+[m[32m        <image>[m
[32m+[m[32m          <format>R8G8B8</format>[m
[32m+[m[32m          <width>${width}</width>[m
[32m+[m[32m          <height>${height}</height>[m
[32m+[m[32m        </image>[m
[32m+[m[32m        <clip>[m
[32m+[m[32m          <near>0.02</near>[m
[32m+[m[32m          <far>300</far>[m
[32m+[m[32m        </clip>[m
[32m+[m[32m        <noise>[m
[32m+[m[32m          <type>gaussian</type>[m
[32m+[m[32m          <mean>0.0</mean>[m
[32m+[m[32m          <stddev>0.007</stddev>[m
[32m+[m[32m        </noise>[m
[32m+[m[32m      </camera>[m
[32m+[m[32m      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">[m
[32m+[m[32m        <alwaysOn>true</alwaysOn>[m
[32m+[m[32m        <updateRate>${update_rate}</updateRate>[m
[32m+[m[32m        <cameraName>${ros_topic}</cameraName>[m
[32m+[m[32m        <imageTopicName>image_raw</imageTopicName>[m
[32m+[m[32m        <cameraInfoTopicName>camera_info</cameraInfoTopicName>[m
[32m+[m[32m        <frameName>${name}_link</frameName>[m
[32m+[m[32m        <hackBaseline>0.07</hackBaseline>[m
[32m+[m[32m        <distortionK1>0.0</distortionK1>[m
[32m+[m[32m        <distortionK2>0.0</distortionK2>[m
[32m+[m[32m        <distortionK3>0.0</distortionK3>[m
[32m+[m[32m        <distortionT1>0.0</distortionT1>[m
[32m+[m[32m        <distortionT2>0.0</distortionT2>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </sensor>[m
[32m+[m[32m      <material>IPA/LightGrey</material>[m
[32m+[m[32m    </gazebo>[m
[32m+[m[32m  </xacro:macro>[m
[32m+[m
[32m+[m[32m</robot>[m
[32m+[m
[1mdiff --git a/cob_description/urdf/sensors/usb_cam.urdf.xacro b/cob_description/urdf/sensors/usb_cam.urdf.xacro[m
[1mnew file mode 100644[m
[1mindex 0000000..6141b5f[m
[1m--- /dev/null[m
[1m+++ b/cob_description/urdf/sensors/usb_cam.urdf.xacro[m
[36m@@ -0,0 +1,48 @@[m
[32m+[m[32m<?xml version="1.0"?>[m
[32m+[m[32m<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[32m+[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/sensors/usb_cam.gazebo.xacro" />[m
[32m+[m
[32m+[m[32m  <xacro:macro name="usb_cam" params="name parent *origin ros_topic update_rate height width">[m
[32m+[m[32m    <joint name="${name}_joint" type="fixed">[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
[32m+[m[32m      <parent link="${parent}"/>[m
[32m+[m[32m      <child link="${name}_link"/>[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}_link">[m
[32m+[m[32m      <inertial>[m
[32m+[m[32m        <mass value="0.1" />[m
[32m+[m[32m        <origin xyz="0 0 0" />[m
[32m+[m[32m        <inertia ixx="0.003881243" ixy="0.0" ixz="0.0" iyy="0.000498940" iyz="0.0" izz="0.003879257" />[m
[32m+[m[32m      </inertial>[m
[32m+[m[32m      <visual>[m
[32m+[m[32m       <origin xyz="0 0 0" rpy="0 0 0"/>[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.002 0.002 0.002"/>[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </visual>[m
[32m+[m[32m      <collision>[m
[32m+[m[32m        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>[m
[32m+[m[32m        <geometry>[m
[32m+[m[32m          <box size="0.007 0.130 0.0118"/>[m
[32m+[m[32m        </geometry>[m
[32m+[m[32m      </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <joint name="${name}_frame_joint" type="fixed">[m
[32m+[m[32m      <origin xyz="0 0 0" rpy="${M_PI/2} -${M_PI/2} 0" />[m
[32m+[m[32m      <parent link="${name}_link"/>[m
[32m+[m[32m      <child link="${name}_frame"/>[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}_frame"/>[m
[32m+[m[32m    <!-- extensions -->[m
[32m+[m[32m    <xacro:usb_cam_gazebo name="${name}" ros_topic="${ros_topic}"[m
[32m+[m									[32m     update_rate="${update_rate}"[m
[32m+[m									[32m     height="${height}"[m
[32m+[m									[32m     width="${width}"/>[m
[32m+[m[32m  </xacro:macro>[m
[32m+[m
[32m+[m[32m</robot>[m
[32m+[m
[1mdiff --git a/cob_description/urdf/ur_arm/ur10_arm.urdf.xacro b/cob_description/urdf/ur_arm/ur10_arm.urdf.xacro[m
[1mindex 7b812bc..4bd6c51 100644[m
[1m--- a/cob_description/urdf/ur_arm/ur10_arm.urdf.xacro[m
[1m+++ b/cob_description/urdf/ur_arm/ur10_arm.urdf.xacro[m
[36m@@ -4,13 +4,11 @@[m
   <xacro:include filename="$(find cob_description)/urdf/common.xacro" />[m
   <xacro:include filename="$(find ur_description)/urdf/ur10.urdf.xacro" />[m
 [m
[31m-  <!--property name="wrist_3_length" value="0.0857" /-->[m
[31m-[m
   <xacro:macro name="ur10" params="parent name *origin">[m
 [m
     <!-- mount the arm to the robot -->[m
     <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}" />[m
       <child link="${name}_base_link" />[m
     </joint>[m
[36m@@ -18,6 +16,14 @@[m
     <!-- include universal_robot arm -->[m
     <xacro:ur10_robot prefix="${name}_" joint_limited="true"/>[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/cob_description/urdf/ur_arm/ur5_arm.urdf.xacro b/cob_description/urdf/ur_arm/ur5_arm.urdf.xacro[m
[1mindex 7c70a3e..b3b3774 100644[m
[1m--- a/cob_description/urdf/ur_arm/ur5_arm.urdf.xacro[m
[1m+++ b/cob_description/urdf/ur_arm/ur5_arm.urdf.xacro[m
[36m@@ -4,13 +4,11 @@[m
   <xacro:include filename="$(find cob_description)/urdf/common.xacro" />[m
   <xacro:include filename="$(find ur_description)/urdf/ur5.urdf.xacro" />[m
 [m
[31m-  <!--property name="wrist_3_length" value="0.0823" /-->[m
[31m-[m
   <xacro:macro name="ur5" params="parent name *origin">[m
 [m
     <!-- mount the arm to the robot -->[m
     <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}" />[m
       <child link="${name}_base_link" />[m
     </joint>[m
[36m@@ -18,6 +16,14 @@[m
     <!-- include universal_robot arm -->[m
     <xacro:ur5_robot prefix="${name}_" joint_limited="true"/>[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/cob_description/urdf/ur_connector/ur_connector.gazebo.xacro b/cob_description/urdf/ur_connector/ur_connector.gazebo.xacro[m
[1mdeleted file mode 100644[m
[1mindex e344434..0000000[m
[1m--- a/cob_description/urdf/ur_connector/ur_connector.gazebo.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="ur_connector_gazebo" params="name">[m
[31m-[m
[31m-    <gazebo reference="${name}_fixed_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/DarkGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-    <gazebo reference="${name}_link">[m
[31m-      <gravity>true</gravity>[m
[31m-      <self_collide>false</self_collide>[m
[31m-      <material>IPA/DarkGrey</material>[m
[31m-    </gazebo>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/ur_connector/ur_connector.transmission.xacro b/cob_description/urdf/ur_connector/ur_connector.transmission.xacro[m
[1mdeleted file mode 100644[m
[1mindex 94ef993..0000000[m
[1m--- a/cob_description/urdf/ur_connector/ur_connector.transmission.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,18 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:macro name="ur_connector_transmission" params="name">[m
[31m-[m
[31m-    <transmission name="${name}_trans">[m
[31m-      <type>transmission_interface/SimpleTransmission</type>[m
[31m-      <joint name="${name}_joint">[m
[31m-        <hardwareInterface>EffortJointInterface</hardwareInterface>[m
[31m-      </joint>[m
[31m-      <actuator name="${name}_motor">[m
[31m-        <mechanicalReduction>1</mechanicalReduction>[m
[31m-      </actuator>[m
[31m-    </transmission>[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_description/urdf/ur_connector/ur_connector.urdf.xacro b/cob_description/urdf/ur_connector/ur_connector.urdf.xacro[m
[1mdeleted file mode 100644[m
[1mindex 7a1ef8d..0000000[m
[1m--- a/cob_description/urdf/ur_connector/ur_connector.urdf.xacro[m
[1m+++ /dev/null[m
[36m@@ -1,79 +0,0 @@[m
[31m-<?xml version="1.0"?>[m
[31m-<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[31m-[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/ur_connector/ur_connector.gazebo.xacro" />[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/ur_connector/ur_connector.transmission.xacro" />[m
[31m-[m
[31m-  <xacro:macro name="ur_connector" params="name parent *origin">[m
[31m-[m
[31m-    <!-- joint between base_link and ur_connector_link -->[m
[31m-    <joint name="${name}_fixed_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[31m-      <parent link="${parent}"/>[m
[31m-      <child link="${name}_fixed_link"/>[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_fixed_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="2"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/ur_connector/ur_connector1.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/ur_connector/ur_connector1.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- joint between base_link and ur_connector_link -->[m
[31m-    <joint name="${name}_joint" type="revolute">[m
[31m-      <origin xyz="-0.0201 -0.1736 0.136" rpy="0 0 0"/>[m
[31m-      <parent link="${name}_fixed_link"/>[m
[31m-      <child link="${name}_link"/>[m
[31m-      <axis xyz="0 0 1"/>[m
[31m-      <dynamics damping="10"/>[m
[31m-      <limit effort="200" velocity="1.9634" lower="1.0" upper="4.6"/>[m
[31m-      <safety_controller k_position="20" k_velocity="50" soft_lower_limit="${1.0 - 0.01}" soft_upper_limit="${4.6 - 0.01}" />[m
[31m-    </joint>[m
[31m-[m
[31m-    <link name="${name}_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[31m-        <mass value="1"/>[m
[31m-        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01" />[m
[31m-      </inertial>[m
[31m-[m
[31m-      <visual>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/ur_connector/ur_connector2.stl" />[m
[31m-        </geometry>[m
[31m-        <material name="IPA/DarkGrey" />[m
[31m-      </visual>[m
[31m-[m
[31m-      <collision>[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[31m-        <geometry>[m
[31m-          <mesh filename="package://cob_description/meshes/ur_connector/ur_connector2.stl" />[m
[31m-        </geometry>[m
[31m-      </collision>[m
[31m-    </link>[m
[31m-[m
[31m-    <!-- extensions -->[m
[31m-    <xacro:ur_connector_gazebo name="${name}" />[m
[31m-    <xacro:ur_connector_transmission name="${name}" />[m
[31m-[m
[31m-  </xacro:macro>[m
[31m-[m
[31m-</robot>[m
[1mdiff --git a/cob_msgs/CHANGELOG.rst b/cob_msgs/CHANGELOG.rst[m
[1mindex a44c586..5b782e9 100644[m
[1m--- a/cob_msgs/CHANGELOG.rst[m
[1m+++ b/cob_msgs/CHANGELOG.rst[m
[36m@@ -2,6 +2,14 @@[m
 Changelog for package cob_msgs[m
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[m
 [m
[32m+[m[32m0.6.7 (2017-07-17)[m
[32m+[m[32m------------------[m
[32m+[m[32m* manually fix changelog[m
[32m+[m[32m* Contributors: ipa-fxm[m
[32m+[m
[32m+[m[32m0.6.6 (2016-10-10)[m
[32m+[m[32m------------------[m
[32m+[m
 0.6.5 (2016-04-01)[m
 ------------------[m
 * Update package.xml[m
[1mdiff --git a/cob_msgs/package.xml b/cob_msgs/package.xml[m
[1mindex 36505ba..4531092 100644[m
[1m--- a/cob_msgs/package.xml[m
[1m+++ b/cob_msgs/package.xml[m
[36m@@ -1,6 +1,6 @@[m
 <package format="2">[m
   <name>cob_msgs</name>[m
[31m-  <version>0.6.5</version>[m
[32m+[m[32m  <version>0.6.7</version>[m
   <description>[m
     Messages for representing state information, such as battery information and emergency stop status.[m
   </description>[m
[1mdiff --git a/cob_srvs/CHANGELOG.rst b/cob_srvs/CHANGELOG.rst[m
[1mindex ad8b64f..7261208 100644[m
[1m--- a/cob_srvs/CHANGELOG.rst[m
[1m+++ b/cob_srvs/CHANGELOG.rst[m
[36m@@ -2,6 +2,14 @@[m
 Changelog for package cob_srvs[m
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[m
 [m
[32m+[m[32m0.6.7 (2017-07-17)[m
[32m+[m[32m------------------[m
[32m+[m[32m* manually fix changelog[m
[32m+[m[32m* Contributors: ipa-fxm[m
[32m+[m
[32m+[m[32m0.6.6 (2016-10-10)[m
[32m+[m[32m------------------[m
[32m+[m
 0.6.5 (2016-04-01)[m
 ------------------[m
 [m
[1mdiff --git a/cob_srvs/package.xml b/cob_srvs/package.xml[m
[1mindex 67dfceb..3b49f2a 100644[m
[1m--- a/cob_srvs/package.xml[m
[1m+++ b/cob_srvs/package.xml[m
[36m@@ -1,6 +1,6 @@[m
 <package format="2">[m
   <name>cob_srvs</name>[m
[31m-  <version>0.6.5</version>[m
[32m+[m[32m  <version>0.6.7</version>[m
   <description>This Package contains Care-O-bot specific service definitions.</description>[m
 [m
   <license>LGPL</license>[m
[1mdiff --git a/raw_description/CHANGELOG.rst b/raw_description/CHANGELOG.rst[m
[1mindex 9f72fe5..6235779 100644[m
[1m--- a/raw_description/CHANGELOG.rst[m
[1m+++ b/raw_description/CHANGELOG.rst[m
[36m@@ -2,6 +2,45 @@[m
 Changelog for package raw_description[m
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[m
 [m
[32m+[m[32m0.6.7 (2017-07-17)[m
[32m+[m[32m------------------[m
[32m+[m[32m* Current config gripper (`#221 <https://github.com/ipa320/cob_common/issues/221>`_)[m
[32m+[m[32m  * added vacuum gripper[m
[32m+[m[32m  * New STL file for the vacuum gripper[m
[32m+[m[32m  * Vacuum Gripper file description updated[m
[32m+[m[32m  * torso and gripper updates[m
[32m+[m[32m  * removed obsolete files[m
[32m+[m[32m  * orient_gripper[m
[32m+[m[32m* fix the wheel radius to meet with the actual hardware radii[m
[32m+[m[32m* separate laser scanner from base[m
[32m+[m[32m* finalizing[m
[32m+[m[32m* changes acoording to pull request[m
[32m+[m[32m* origin of the colision mesh corrected according with visual values[m
[32m+[m[32m* origin of the colision mesh corrected[m
[32m+[m[32m* gripper mesh simplified[m
[32m+[m[32m* stable behavior by tweaking the base mass/inertia achieved[m
[32m+[m[32m* stable behavior by tweaking the base mass/inertia achieved[m
[32m+[m[32m* get a stable behavior by tweaking the base mass/inertia[m
[32m+[m[32m* use scalable primitive meshes[m
[32m+[m[32m* use the properties at the top for the collision properties[m
[32m+[m[32m* file name and suffix all small letters.[m
[32m+[m[32m* gripper macro name changed and prefix removed as argument[m
[32m+[m[32m* tabs vs spaces solved[m
[32m+[m[32m* requested changes[m
[32m+[m[32m* torso and gripper updates[m
[32m+[m[32m* Vacuum Gripper file description updated[m
[32m+[m[32m* New STL file for the vacuum gripper[m
[32m+[m[32m* added vacuum gripper[m
[32m+[m[32m* move gazebo_ros_control plugin[m
[32m+[m[32m* use latest xacro syntax[m
[32m+[m[32m* manually fix changelog[m
[32m+[m[32m* Contributors: Bruno Brito, Richard Bormann, ipa-bfb-sc, ipa-fxm, ipa-mjp, ipa-raw3-3[m
[32m+[m
[32m+[m[32m0.6.6 (2016-10-10)[m
[32m+[m[32m------------------[m
[32m+[m[32m* fixed inertia and mass for raw3 base long[m
[32m+[m[32m* Contributors: Benjamin Maidel[m
[32m+[m
 0.6.5 (2016-04-01)[m
 ------------------[m
 * restructure simulated lasers and laser topic names[m
[1mdiff --git a/raw_description/meshes/vacuum_gripper/vacuum_gripper.stl b/raw_description/meshes/vacuum_gripper/vacuum_gripper.stl[m
[1mnew file mode 100755[m
[1mindex 0000000..2c00f3f[m
Binary files /dev/null and b/raw_description/meshes/vacuum_gripper/vacuum_gripper.stl differ
[1mdiff --git a/raw_description/package.xml b/raw_description/package.xml[m
[1mindex 3b4c265..d1b2cb0 100644[m
[1m--- a/raw_description/package.xml[m
[1m+++ b/raw_description/package.xml[m
[36m@@ -1,6 +1,6 @@[m
 <package format="2">[m
   <name>raw_description</name>[m
[31m-  <version>0.6.5</version>[m
[32m+[m[32m  <version>0.6.7</version>[m
   <description>This package contains the description (mechanical, kinematic, visual,[m
   etc.) of the Care-O-bot robot. The files in this package are parsed and used by[m
   a variety of other components. Most users will not interact directly[m
[1mdiff --git a/raw_description/urdf/base_long/base.urdf.xacro b/raw_description/urdf/base_long/base.urdf.xacro[m
[1mindex 5696852..ac26f9b 100644[m
[1m--- a/raw_description/urdf/base_long/base.urdf.xacro[m
[1m+++ b/raw_description/urdf/base_long/base.urdf.xacro[m
[36m@@ -7,42 +7,38 @@[m
   <!-- drive_wheel module -->[m
   <xacro:include filename="$(find cob_description)/urdf/drive_wheel/drive_wheel.urdf.xacro" />[m
 [m
[31m-  <!-- sensors -->[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/sick_s300_laser.urdf.xacro"/>[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro"/>[m
[31m-[m
   <!-- properties -->[m
[31m-  <property name="caster_offset_x" value="0.368" />  <!--modify here-->[m
[31m-  <property name="caster_offset_y_bl" value="0.134" />[m
[31m-  <property name="caster_offset_y_br" value="-0.184" />[m
[31m-  <property name="caster_offset_y_fl" value="0.184" />[m
[31m-  <property name="caster_offset_y_fr" value="-0.134" />[m
[31m-  <property name="caster_offset_z" value="0.09" />[m
[31m-[m
[31m-  <property name="battery_offset_x_f" value="0.141" />[m
[31m-  <property name="battery_offset_x_r" value="0.139" />[m
[31m-  <property name="battery_offset_y_f" value="-0.008" />[m
[31m-  <property name="battery_offset_y_r" value="0.007" />[m
[31m-  <property name="battery_offset_z" value="0.065" />[m
[31m-[m
[31m-  <property name="base_mass" value="83.1" />[m
[31m-  <property name="battery_mass" value="25.0" />[m
[31m-[m
[31m-  <property name="battery_size_x" value="0.5" />[m
[31m-  <property name="battery_size_y" value="0.148" />[m
[31m-  <property name="battery_size_z" value="0.26" />[m
[32m+[m[32m  <xacro:property name="caster_offset_x" value="0.368" />  <!--modify here-->[m
[32m+[m[32m  <xacro:property name="caster_offset_y_bl" value="0.134" />[m
[32m+[m[32m  <xacro:property name="caster_offset_y_br" value="-0.184" />[m
[32m+[m[32m  <xacro:property name="caster_offset_y_fl" value="0.184" />[m
[32m+[m[32m  <xacro:property name="caster_offset_y_fr" value="-0.134" />[m
[32m+[m[32m  <xacro:property name="caster_offset_z" value="0.08" />[m
[32m+[m
[32m+[m[32m  <xacro:property name="battery_offset_x_f" value="0.141" />[m
[32m+[m[32m  <xacro:property name="battery_offset_x_r" value="0.139" />[m
[32m+[m[32m  <xacro:property name="battery_offset_y_f" value="-0.008" />[m
[32m+[m[32m  <xacro:property name="battery_offset_y_r" value="0.007" />[m
[32m+[m[32m  <xacro:property name="battery_offset_z" value="0.065" />[m
[32m+[m
[32m+[m[32m  <xacro:property name="base_mass" value="83.1" />[m
[32m+[m[32m  <xacro:property name="battery_mass" value="50.0" />[m
[32m+[m
[32m+[m[32m  <xacro:property name="battery_size_x" value="0.5" />[m
[32m+[m[32m  <xacro:property name="battery_size_y" value="0.148" />[m
[32m+[m[32m  <xacro:property name="battery_size_z" value="0.26" />[m
 [m
   <!-- battery macros-->[m
   <xacro:macro name="cob_batteries" params="name parent *origin ">[m
     <joint name="${name}_battery_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_battery" />[m
     </joint>[m
 [m
     <link name="${name}_battery">[m
       <xacro:box_inertial x="${battery_size_x}" y="${battery_size_y}" z="${battery_size_z}" mass="${battery_mass}">[m
[31m-        <origin xyz="0 0 0" rpy="0 0 0" />[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0"/>[m
       </xacro:box_inertial>[m
       <visual>[m
         <origin xyz="0 0 0" rpy="0 0 0"/>[m
[36m@@ -64,7 +60,6 @@[m
     <xacro:batteries_gazebo name="${name}" />[m
   </xacro:macro>[m
 [m
[31m-[m
   <xacro:macro name="raw_base" params="name">[m
 [m
     <link name="${name}_footprint"/>[m
[36m@@ -76,12 +71,9 @@[m
     </joint>[m
 [m
     <link name="${name}_link">[m
[31m-      <inertial>[m
[31m-        <origin xyz="0 0 0" />[m
[31m-        <mass value="${base_mass}" />[m
[31m-        <inertia ixx="9.64" ixy="-0.02" ixz="0.44"[m
[31m-                 iyy="11.33" iyz="-0.007" izz="3.07" />[m
[31m-      </inertial>[m
[32m+[m[32m      <xacro:box_inertial x="1.04" y="0.58" z="0.12" mass="${base_mass}">[m
[32m+[m[32m        <origin xyz="0 0 0" rpy="0 0 0"/>[m
[32m+[m[32m      </xacro:box_inertial>[m
       <visual>[m
         <origin xyz="0 0 0.209" rpy="0 0 0" />[m
         <geometry>[m
[36m@@ -112,23 +104,6 @@[m
       <origin xyz="${-caster_offset_x} ${caster_offset_y_br} ${caster_offset_z}" rpy="0 0 0" />[m
     </xacro:drive_wheel>[m
 [m
[31m-[m
[31m-    <!-- base laser front -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_front" parent="${name}">[m
[31m-      <origin xyz="${laser_front_x} ${laser_front_y} ${laser_front_z}" rpy="${laser_front_roll} ${laser_front_pitch} ${laser_front_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <!-- base laser rear -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_rear" parent="${name}">[m
[31m-      <origin xyz="${laser_rear_x} ${laser_rear_y} ${laser_rear_z}" rpy="${laser_rear_roll} ${laser_rear_pitch} ${laser_rear_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <!-- cam3d -->[m
[31m-    <!--xacro:cob_kinect_v0 name="${name}_cam3d" ros_topic="cam3d" parent="${name}_link">[m
[31m-      <origin xyz="0.51 0.12 0.27" rpy="-${M_PI/2} 0 -${M_PI/2}" />[m
[31m-    </xacro:cob_kinect_v0-->[m
[31m-[m
[31m-[m
     <!-- battery front-->[m
     <xacro:cob_batteries name="${name}_battery_front" parent="${name}_link">[m
       <origin xyz="${-battery_offset_x_f} ${battery_offset_y_f} ${battery_offset_z}" rpy="${M_PI/2} 0 ${-M_PI/2}" />[m
[36m@@ -143,6 +118,14 @@[m
     <!-- gazebo extensions -->[m
     <xacro:base_gazebo name="${name}" />[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/raw_description/urdf/base_short/base.urdf.xacro b/raw_description/urdf/base_short/base.urdf.xacro[m
[1mindex c5d15e1..ed9f5b0 100644[m
[1m--- a/raw_description/urdf/base_short/base.urdf.xacro[m
[1m+++ b/raw_description/urdf/base_short/base.urdf.xacro[m
[36m@@ -7,34 +7,31 @@[m
   <!-- drive_wheel module -->[m
   <xacro:include filename="$(find cob_description)/urdf/drive_wheel/drive_wheel.urdf.xacro" />[m
 [m
[31m-  <!-- sensors -->[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/sick_s300_laser.urdf.xacro"/>[m
[31m-  <xacro:include filename="$(find cob_description)/urdf/sensors/kinect.urdf.xacro"/>[m
 [m
   <!-- properties -->[m
[31m-  <property name="caster_offset_x" value="0.228" />  <!--modify here-->[m
[31m-  <property name="caster_offset_y_bl" value="0.134" />[m
[31m-  <property name="caster_offset_y_br" value="-0.184" />[m
[31m-  <property name="caster_offset_y_fl" value="0.184" />[m
[31m-  <property name="caster_offset_y_fr" value="-0.134" />[m
[31m-  <property name="caster_offset_z" value="0.09" />[m
[32m+[m[32m  <xacro:property name="caster_offset_x" value="0.228" />  <!--modify here-->[m
[32m+[m[32m  <xacro:property name="caster_offset_y_bl" value="0.134" />[m
[32m+[m[32m  <xacro:property name="caster_offset_y_br" value="-0.184" />[m
[32m+[m[32m  <xacro:property name="caster_offset_y_fl" value="0.184" />[m
[32m+[m[32m  <xacro:property name="caster_offset_y_fr" value="-0.134" />[m
[32m+[m[32m  <xacro:property name="caster_offset_z" value="0.08" />[m
 [m
[31m-  <property name="battery_offset_x" value="0.0" />[m
[31m-  <property name="battery_offset_y" value="-0.008" />[m
[31m-  <property name="battery_offset_z" value="0.065" />[m
[32m+[m[32m  <xacro:property name="battery_offset_x" value="0.0" />[m
[32m+[m[32m  <xacro:property name="battery_offset_y" value="-0.008" />[m
[32m+[m[32m  <xacro:property name="battery_offset_z" value="0.065" />[m
 [m
[31m-  <property name="base_mass" value="43.1" />[m
[31m-  <property name="battery_mass" value="40" />[m
[32m+[m[32m  <xacro:property name="base_mass" value="43.1" />[m
[32m+[m[32m  <xacro:property name="battery_mass" value="40" />[m
 [m
[31m-  <property name="battery_size_x" value="0.5" />[m
[31m-  <property name="battery_size_y" value="0.148" />[m
[31m-  <property name="battery_size_z" value="0.26" />[m
[32m+[m[32m  <xacro:property name="battery_size_x" value="0.5" />[m
[32m+[m[32m  <xacro:property name="battery_size_y" value="0.148" />[m
[32m+[m[32m  <xacro:property name="battery_size_z" value="0.26" />[m
 [m
 [m
   <!-- battery macros-->[m
   <xacro:macro name="cob_batteries" params="name parent *origin ">[m
     <joint name="${name}_battery_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_battery" />[m
     </joint>[m
[36m@@ -114,23 +111,6 @@[m
       <origin xyz="${-caster_offset_x} ${caster_offset_y_br} ${caster_offset_z}" rpy="0 0 0" />[m
     </xacro:drive_wheel>[m
 [m
[31m-[m
[31m-    <!-- base laser front -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_front" parent="${name}">[m
[31m-      <origin xyz="${laser_front_x} ${laser_front_y} ${laser_front_z}" rpy="${laser_front_roll} ${laser_front_pitch} ${laser_front_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <!-- base laser rear -->[m
[31m-    <xacro:sick_s300_laser_v0 name="${name}_laser_rear" parent="${name}">[m
[31m-      <origin xyz="${laser_rear_x} ${laser_rear_y} ${laser_rear_z}" rpy="${laser_rear_roll} ${laser_rear_pitch} ${laser_rear_yaw}" />[m
[31m-    </xacro:sick_s300_laser_v0>[m
[31m-[m
[31m-    <!-- cam3d -->[m
[31m-    <!--xacro:cob_kinect_v0 name="${name}_cam3d" ros_topic="cam3d" parent="${name}_link">[m
[31m-      <origin xyz="0.51 0.12 0.27" rpy="-${M_PI/2} 0 -${M_PI/2}" />[m
[31m-    </xacro:cob_kinect_v0-->[m
[31m-[m
[31m-[m
     <!-- battery-->[m
     <xacro:cob_batteries name="${name}_battery" parent="${name}_link">[m
       <origin xyz="${-battery_offset_x} ${battery_offset_y} ${battery_offset_z}" rpy="${M_PI/2} 0 ${-M_PI/2}" />[m
[36m@@ -140,6 +120,14 @@[m
     <!-- gazebo extensions -->[m
     <xacro:base_gazebo name="${name}" />[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/raw_description/urdf/boxgripper/boxgripper.urdf.xacro b/raw_description/urdf/boxgripper/boxgripper.urdf.xacro[m
[1mindex a52052b..534f534 100644[m
[1m--- a/raw_description/urdf/boxgripper/boxgripper.urdf.xacro[m
[1m+++ b/raw_description/urdf/boxgripper/boxgripper.urdf.xacro[m
[36m@@ -7,7 +7,7 @@[m
 [m
     <!-- joint between arm_ee_link and raw_boxgripper_link -->[m
     <joint name="${name}_base_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}" />[m
       <child link="${name}_base_link" />[m
     </joint>[m
[1mdiff --git a/raw_description/urdf/head/head.urdf.xacro b/raw_description/urdf/head/head.urdf.xacro[m
[1mindex b45590c..bfa8c8b 100644[m
[1m--- a/raw_description/urdf/head/head.urdf.xacro[m
[1m+++ b/raw_description/urdf/head/head.urdf.xacro[m
[36m@@ -7,7 +7,7 @@[m
   <xacro:macro name="raw_head" params="name parent *origin">[m
     <!-- joint between torso_2_link and head_base_link -->[m
     <joint name="${name}_base_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}"/>[m
       <child link="${name}_base_link"/>[m
     </joint>[m
[1mdiff --git a/raw_description/urdf/torso/torso.urdf.xacro b/raw_description/urdf/torso/torso.urdf.xacro[m
[1mindex 5d9c318..e648c48 100644[m
[1m--- a/raw_description/urdf/torso/torso.urdf.xacro[m
[1m+++ b/raw_description/urdf/torso/torso.urdf.xacro[m
[36m@@ -8,7 +8,7 @@[m
 [m
     <!-- joint between base_link and torso_tilt_link -->[m
     <joint name="${name}_0_joint" type="fixed" >[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <parent link="${parent}" />[m
       <child link="${name}_0_link" />[m
     </joint>[m
[36m@@ -74,7 +74,7 @@[m
       <origin xyz="0.0 0.0 0.047" rpy="0.0 0.0 0.0" />[m
          <parent link="${name}_1_link"/>[m
       <child link="torso_2_link"/>[m
[31m-      <axis xyz="0 1.0 0" />[m
[32m+[m[32m      <axis xyz="-1.0 0 0" />[m
       <dynamics damping="0.1" />[m
       <limit effort="100" lower="-3.2" upper="1.57" velocity="1.4"/>[m
     </joint>[m
[36m@@ -106,6 +106,14 @@[m
     <xacro:raw_torso_gazebo name="${name}" />[m
     <xacro:raw_torso_transmission name="${name}" />[m
 [m
[32m+[m[32m    <!-- ros_control plugin -->[m
[32m+[m[32m    <gazebo>[m
[32m+[m[32m      <plugin name="ros_control" filename="libhwi_switch_gazebo_ros_control.so">[m
[32m+[m[32m        <robotNamespace>${name}</robotNamespace>[m
[32m+[m[32m        <filterJointsParam>joint_names</filterJointsParam>[m
[32m+[m[32m      </plugin>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
   </xacro:macro>[m
 [m
 </robot>[m
[1mdiff --git a/raw_description/urdf/tower_asymetric/tower.urdf.xacro b/raw_description/urdf/tower_asymetric/tower.urdf.xacro[m
[1mindex 8cea68c..35ad106 100644[m
[1m--- a/raw_description/urdf/tower_asymetric/tower.urdf.xacro[m
[1m+++ b/raw_description/urdf/tower_asymetric/tower.urdf.xacro[m
[36m@@ -4,12 +4,12 @@[m
   <xacro:include filename="$(find raw_description)/urdf/tower_asymetric/tower.gazebo.xacro" />[m
 [m
   <!-- Properties -->[m
[31m-  <property name="tower_mass" value="6.49" />[m
[32m+[m[32m  <xacro:property name="tower_mass" value="6.49" />[m
 [m
   <xacro:macro name="tower_asymetric" params="name parent *origin" >[m
 [m
     <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <!--origin xyz=" 0.36 -0.029 0.48" rpy="0 0 3.14159265" /-->[m
       <parent link="${parent}"/>[m
       <child link="${name}_base_link" />[m
[1mdiff --git a/raw_description/urdf/tower_symetric/tower.urdf.xacro b/raw_description/urdf/tower_symetric/tower.urdf.xacro[m
[1mindex 4663b43..6a51880 100644[m
[1m--- a/raw_description/urdf/tower_symetric/tower.urdf.xacro[m
[1m+++ b/raw_description/urdf/tower_symetric/tower.urdf.xacro[m
[36m@@ -4,12 +4,12 @@[m
   <xacro:include filename="$(find raw_description)/urdf/tower_symetric/tower.gazebo.xacro" />[m
 [m
   <!-- Properties -->[m
[31m-  <property name="tower_mass" value="6.49" />[m
[32m+[m[32m  <xacro:property name="tower_mass" value="6.49" />[m
 [m
   <xacro:macro name="tower_symetric" params="name parent *origin" >[m
 [m
     <joint name="${name}_joint" type="fixed">[m
[31m-      <insert_block name="origin" />[m
[32m+[m[32m      <xacro:insert_block name="origin" />[m
       <!--origin xyz=" 0.36 -0.029 0.48" rpy="0 0 3.14159265" /-->[m
       <parent link="${parent}"/>[m
       <child link="${name}_base_link" />[m
[1mdiff --git a/raw_description/urdf/vacuum_gripper/gripper.gazebo.xacro b/raw_description/urdf/vacuum_gripper/gripper.gazebo.xacro[m
[1mnew file mode 100644[m
[1mindex 0000000..25c674a[m
[1m--- /dev/null[m
[1m+++ b/raw_description/urdf/vacuum_gripper/gripper.gazebo.xacro[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m<?xml version="1.0"?>[m
[32m+[m[32m<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[32m+[m
[32m+[m[32m  <xacro:macro name="vacuum_gripper_gazebo" params="name">[m
[32m+[m
[32m+[m[32m    <gazebo reference="${name}_ee_link">[m
[32m+[m[32m      <gravity>true</gravity>[m
[32m+[m[32m      <self_collide>false</self_collide>[m
[32m+[m[32m    </gazebo>[m
[32m+[m
[32m+[m[32m  </xacro:macro>[m
[32m+[m
[32m+[m[32m</robot>[m
[1mdiff --git a/raw_description/urdf/vacuum_gripper/gripper.urdf.xacro b/raw_description/urdf/vacuum_gripper/gripper.urdf.xacro[m
[1mnew file mode 100644[m
[1mindex 0000000..cc3cb90[m
[1m--- /dev/null[m
[1m+++ b/raw_description/urdf/vacuum_gripper/gripper.urdf.xacro[m
[36m@@ -0,0 +1,71 @@[m
[32m+[m[32m<?xml version="1.0"?>[m
[32m+[m[32m<robot xmlns:xacro="http://www.ros.org/wiki/xacro">[m
[32m+[m
[32m+[m[32m  <xacro:include filename="$(find cob_description)/urdf/common.xacro"/>[m
[32m+[m[32m  <xacro:include filename="$(find raw_description)/urdf/vacuum_gripper/gripper.gazebo.xacro" />[m
[32m+[m
[32m+[m[32m  <xacro:property name="gripper_length" value="0.14"/>[m
[32m+[m[32m  <xacro:property name="gripper_width" value="0.2"/>[m
[32m+[m[32m  <xacro:property name="gripper_height" value="0.14"/>[m
[32m+[m[32m  <xacro:property name="gripper_body_height" value="0.14"/>[m
[32m+[m[32m  <xacro:property name="gripper_radius" value="0.005"/>[m
[32m+[m
[32m+[m[32m  <xacro:macro name="vacuum_gripper" params="name parent *origin">[m
[32m+[m
[32m+[m[32m    <!-- joint between arm_ee_link and vacuum_gripper_link -->[m
[32m+[m[32m    <joint name="${name}_base_joint" type="fixed">[m
[32m+[m[32m        <xacro:insert_block name="origin"/>[m
[32m+[m[32m        <parent link="${parent}"/>[m
[32m+[m[32m        <child link="${name}_frame"/>[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}_frame"/>[m
[32m+[m
[32m+[m[32m    <joint name="gripper_to_palm" type="fixed">[m
[32m+[m[32m        <parent link="${name}_frame"/>[m
[32m+[m[32m        <child link="${name}_body"/>[m
[32m+[m[32m        <origin xyz="0.08015 -0.0475 0.0" rpy="-1.57079632679 0 3.1415"/>[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}_body">[m
[32m+[m[32m        <visual>[m
[32m+[m[32m            <origin xyz="0 0 -0.048" rpy="0 0 0"/>[m
[32m+[m[32m            <geometry>[m
[32m+[m[32m                <mesh filename="package://raw_description/meshes/vacuum_gripper/vacuum_gripper.stl"/>[m
[32m+[m[32m            </geometry>[m
[32m+[m[32m            <material name="silver">[m
[32m+[m[32m                <color rgba="0.8 0.8 0.8 1"/>[m
[32m+[m[32m            </material>[m
[32m+[m[32m        </visual>[m
[32m+[m[32m        <collision>[m
[32m+[m[32m            <origin xyz="0 0 -0.048" rpy="0 0 0"/>[m
[32m+[m[32m            <geometry>[m
[32m+[m[32m                <mesh filename="package://raw_description/meshes/vacuum_gripper/vacuum_gripper.stl"/>[m
[32m+[m[32m            </geometry>[m
[32m+[m[32m        </collision>[m
[32m+[m[32m    </link>[m
[32m+[m
[32m+[m[32m    <joint name="gripper_to_tcp" type="fixed">[m
[32m+[m[32m        <parent link="${name}_frame"/>[m
[32m+[m[32m        <child link="${name}"/>[m
[32m+[m[32m        <origin xyz=" 0.1263 0.0 0.0" rpy="3.1415 0 0"/>[m
[32m+[m[32m    </joint>[m
[32m+[m
[32m+[m[32m    <link name="${name}">[m
[32m+[m[32m        <visual>[m
[32m+[m[32m            <xacro:sphere_geometry radius="${gripper_radius}"/>[m
[32m+[m[32m            <material name="white">[m
[32m+[m[32m                <color rgba="1 1 1 0.5"/>[m
[32m+[m[32m            </material>[m
[32m+[m[32m        </visual>[m
[32m+[m[32m        <collision>[m
[32m+[m[32m            <xacro:sphere_geometry radius="${gripper_radius}"/>[m
[32m+[m[32m        </collision>[m
[32m+[m[32m     </link>[m
[32m+[m
[32m+[m[32m    <!-- extensions -->[m
[32m+[m[32m    <xacro:vacuum_gripper_gazebo name="${name}"/>[m
[32m+[m
[32m+[m[32m  </xacro:macro>[m
[32m+[m
[32m+[m[32m</robot>[m
